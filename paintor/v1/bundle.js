function Ht(){return typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||this}function At(i,...t){const e=/(%?)(%([ojdsif]))/ug;if(i=i??"",t.length>0){const n=(s,r,l,o)=>{const f=t.shift();let c="";switch(o){case"o":Array.isArray(f)&&(c=JSON.stringify(f));break;case"s":c=String(f);break;case"d":c=String(Number(f));break;case"j":c=JSON.stringify(f);break;case"i":c=String(parseInt(String(f),10));break;case"f":c=String(parseFloat(String(f)));break}return r?(t.unshift(c),s):c};i=i.replace(e,n)}return t.length>0&&(i+=` ${t.join(" ")}`),i=i.replace(/%{2,2}/ug,"%"),String(i)}function O(i){return typeof i=="object"&&typeof i!="function"&&i!==null}function H(i){return i===" "||i==="	"||i==="\r"||i===`
`}function $t(i,t,e){if(e>=i.length){let n=e-i.length+1;for(;n>0;)n-=1,i.push(void 0)}return i.splice(e,0,i.splice(t,1)[0]),i}function Ut(i,t,e=!1){if(!e)return i.filter(n=>n!==t);for(;;){const n=i.indexOf(t);if(n===-1)break;i.splice(n,1)}return i}function Ct(i){if(i){if(i instanceof Array)return i.length;if(i instanceof Map||i instanceof Set)return i.size;if(typeof i=="object")return Object.keys(i).length}return 0}function Yt(i){if(i==="true")return!0;if(i==="false")return!1;const t=parseInt(i);return isNaN(t)?!!i:!!t}function q(){if(q.isIt===void 0){const i=new Function("try {return this===window;}catch(e){ return false;}");q.isIt=i()}return q.isIt??!1}q.isIt=void 0;const ht=q();function R(i,t){t.push(i)}function J(i,t){for(const e of i)t.push(e)}function St(i){return i.toLowerCase().indexOf("on")===0}function Wt(i){return/^[a-z][a-z0-9-]+$/u.test(i)&&i.includes("-")}function Bt(i){return/#[a-z0-9-]+\s*$/u.test(i)}function Gt(i,t,e){if(!(i instanceof window.Node)||typeof t!="string"||typeof e!="function"||St(t)===!1)return!1;const n=t.toLowerCase().substring(2);return i.addEventListener(n,e),!0}function Vt(i,t){if(t.length===1)i.appendChild(t[0]);else if(t.length>1){const e=new DocumentFragment;for(const n of t)e.append(n);i.appendChild(e)}}function zt(i,t){for(const e of t)i.appendChild(e)}function pt(i,t){ht&&i instanceof window.Node?Vt(i,t):i&&zt(i,t)}function jt(i,t){if(!t)return;const{nextSibling:e,parentNode:n}=t;n&&n.insertBefore(i,e)}function qt(i,t){if(O(t))for(const e in t){const n=(t[e]??"").toString();i.setAttribute(`data-${e}`,n)}}function Z(i,t,e){t in i?e instanceof Array?i[t]=At.apply(null,e):i[t]=e??"":"setAttribute"in i&&i.setAttribute(t,e)}function Kt(i,t){let e=t;return(t===!0||t===!1||t===void 0||t===null)&&(i==="display"?e=t?"":"none":i==="flex"?e=t?1:0:(i==="visibility"||i==="backfaceVisibility")&&(e=t?"visible":"hidden")),e}function xt(i,t,e){i.style[t]=Kt(t,e)}const Xt=(...i)=>{for(let t=1;t<i.length;t++)i[t-1].after(i[t])},Jt=Object.freeze(["async","autofocus","autoplay","checked","contenteditable","controls","default","defer","disabled","formNoValidate","frameborder","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","scoped","selected","typemustmatch"]),Qt=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]),S=Object.freeze({ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11});class tt extends Error{constructor(t,e){super(t),this.name=e??"DOMException"}}class F{nextSibling=null;previousSibling=null;textContent="";#t=[];#e="";#s=1;#i=null;constructor(t,e){this.#s=t,this.#e=e}get baseURI(){return""}get childNodes(){return this.#t}get firstChild(){return this.#t[0]??null}get nodeName(){return this.#e}get nodeType(){return this.#s}get parentNode(){return this.#i}set parentNode(t){this.#i=t}appendChild(t){if(this.nodeType!==S.DOCUMENT_NODE&&this.nodeType!==S.DOCUMENT_FRAGMENT_NODE&&this.nodeType!==S.ELEMENT_NODE)throw new tt("This node type does not support this method.");if(this.nodeType===S.DOCUMENT_NODE)throw new tt("Failed to execute 'appendChild' on 'Node': Only one element on document allowed.");if(!(t instanceof F)){const n="Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.";throw new TypeError(n)}if(this.#t.includes(t))return;if(t===this)throw new tt("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");this.#t.push(t),t.parentNode=this;const e=this.#t.length-2;e>=0&&(this.#t[e].nextSibling=t,t.previousSibling=this.#t[e]??null)}contains(){return!1}insertBefore(t,e){const n=[];for(const s of this.#t)s===e&&n.push(t),n.push(s);return this.#t=n,t}removeChild(t){if(!t)throw new Error("Failed to execute 'removeChild' on 'HTMLElement': parameter 1 is not of type 'HTMLElement'.");if(!this.#t.includes(t))throw new Error("Failed to execute 'removeChild' on 'HTMLElement': The node to be removed is not a child of this node.");return this.#t=this.#t.filter(e=>e!==t),t}paintChildren({indent:t=""}){let e="",n=0;for(const s of this.childNodes){n+=1;const r=n>1;e+=vt(s,t,"",r)}return e}}class at extends F{constructor(){super(S.COMMENT_NODE,"#comment")}}class ut extends F{constructor(){super(S.TEXT_NODE,"#text")}}function Ot(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,n=>{let s=n;return n in e&&(s=e[n]??""),s}),t}function Zt(i){let t="";for(const e of i){const{name:n}=e;let{value:s}=e;Jt.includes(n)?s!==!1&&s!==0&&s!==void 0&&s!==null&&(t+=` ${n}`):(s instanceof Array?s=s.join(","):s===!0?s="true":s===!1?s="false":s===void 0?s="undefined":s===null?s="null":typeof s=="function"?s=`return(${s.toString()}).call(this,window.event)`:s=s.toString(),s=s.replace(/"/ug,'\\"'),s=Ot(s),t+=` ${n}="${s}"`)}return t}function te(i){let t="";return t=i.replace(/([A-Z])/ug,(e,n)=>`-${n.toLowerCase()}`),t}function ee(i){let t="";for(const e in i){const n=i[e];t+=`${te(e)}:${n};`}return t.trim()}function vt(i,t,e,n=!1){let s="",r="",l="";if(t&&(r=e,l=`
`),i instanceof at)s+=`${l}${r}<!--${i.textContent}-->`;else if(i instanceof ut)s+=`${l}${r}${i.textContent}`;else if(i instanceof V){const o=Qt.includes(i.tagName),f=Zt(i.attributes);let c="";Object.keys(i.style).length>0&&(c=` style="${ee(i.style)}"`),n&&(s+=l),s+=r,i.tagName&&(s+=`<${i.tagName.toLowerCase()}${f}${c}`,s+=o?"":">"),s+=i.textContent;let a="";for(const h of i.childNodes)a+=vt(h,t,e+t,!0);a&&(s+=a+l+r),i.tagName!==""&&(s+=o?"/>":`</${i.tagName.toLowerCase()}>`)}return s}class et extends F{#t=[];#e="";constructor(t,e){super(t,e.toUpperCase()),this.#e=e.toUpperCase()}get attributes(){return this.#t}get children(){return this.childNodes.filter(t=>t instanceof et)}get className(){let t="";for(const e of this.#t)if(e.name==="class"){t=e.value;break}return t}set className(t){this.setAttribute("class",t)}get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}get tagName(){return this.#e}append(t){t instanceof F?this.appendChild(t):this.textContent=Ot(t.toString())}getAttribute(t){let e="";if(e=t.trim().toLowerCase(),!e)return null;const n=this.#t.findIndex(s=>s.name===e);return n===-1?null:this.#t[n]?.value??null}remove(){this.parentNode?.removeChild(this)}setAttribute(t,e){let n="";if(n=t.trim().toLowerCase(),!n)return;const s=e,r=this.#t.findIndex(l=>l.name===n);r===-1?this.#t.push({name:n,value:s}):this.#t[r]={name:n,value:s}}}function ne(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,n=>{let s=n;return n in e&&(s=e[n]??""),s}),t}function se(i){const t=i.split("-");if(t.length===1)return t[0];const e=t.slice(1).map(n=>(n[0]??"").toUpperCase()+n.slice(1)).join("");return t[0]+e}function ie(i){const t={};return i.split(";").forEach(e=>{const[n,s]=e.split(":");if(!n)return;const r=se(n.trim());t[r]=(s??"").trim()}),t}let V=class extends et{#t={};constructor(t){super(S.ELEMENT_NODE,t)}get innerText(){return this.textContent}set innerText(t){this.textContent=ne(t.toString())}get style(){return this.#t}set style(t){if(typeof t=="string"){const e=ie(t);for(const n in e)this.#t[n]=(e[n]??"").toString()}}},Lt=class extends F{constructor(){super(S.DOCUMENT_FRAGMENT_NODE,"#document-fragment")}};class re extends F{ELEMENT_NODE=S.ELEMENT_NODE;ATTRIBUTE_NODE=S.ATTRIBUTE_NODE;TEXT_NODE=S.TEXT_NODE;CDATA_SECTION_NODE=S.CDATA_SECTION_NODE;PROCESSING_INSTRUCTION_NODE=S.PROCESSING_INSTRUCTION_NODE;COMMENT_NODE=S.COMMENT_NODE;DOCUMENT_NODE=S.DOCUMENT_NODE;DOCUMENT_TYPE_NODE=S.DOCUMENT_TYPE_NODE;DOCUMENT_FRAGMENT_NODE=S.DOCUMENT_FRAGMENT_NODE;#t;#e=[];constructor(){super(S.DOCUMENT_NODE,"#document");const t=new V("html"),e=new V("head"),n=new V("body");t.appendChild(e),t.appendChild(n),this.#e.push(t),this.#t=n}get body(){return this.#t}get children(){return this.#e}get parentElement(){return null}createDocumentFragment(){return new Lt}createComment(t=""){const e=new at;return e.textContent=t,e}createElement(t){return new V(t)}createTextNode(t){const e=new ut;return e.textContent=t,e}}class oe{Comment=at;DocumentFragment=Lt;Element=et;HTMLElement=V;Node=F;Text=ut;DOMException=tt;Error=Error;TypeError=TypeError;document;constructor(){this.document=new re}}const g=Object.freeze({CREATE:1,READ:2,UPDATE:3,DELETE:4,ARRAY_COPY_WITHIN:5,ARRAY_LENGTH:6,ARRAY_PUSH:7,ARRAY_REVERSE:8,ARRAY_SORT:9,ARRAY_SPLICE:10,ARRAY_SWAP:11}),It=Object.freeze(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]),_=Object.freeze({if:Symbol("prop-if"),for:Symbol("prop-for"),nest:Symbol("prop-nest"),reactive:Symbol("prop-reactive")}),Mt=Symbol("Access"),le=Symbol("ObserverAccessProp"),D=Symbol("EmptyHandlerElements"),N={state:null,bindFn:null,element:null,elementProp:"",elementInnerProp:"",repaintFn:null};function Q(i,t,e,n,s,r){N.state=i,N.bindFn=t,N.element=e,N.elementProp=n,N.elementInnerProp=s,N.repaintFn=r}function B(){N.state=null,N.bindFn=null,N.element=null,N.elementProp="",N.elementInnerProp="",N.repaintFn=null}class G{elements=[];addElement(t){t&&this.elements.push(t)}addElements(t){for(const e of t)this.elements.push(e)}getElements(){return this.elements}hasElement(t){return this.elements.indexOf(t)>-1}importElements(t){const e=t.getElements();for(const n of e)this.addElement(n)}moveElementAfterAnother(t,e){const n=this.elements.indexOf(t),s=this.elements.indexOf(e);if(n===-1||s===-1)throw new Error("Cannot move one element after another, because one element is missing");s-n!==1&&(this.elements=$t(this.elements,n,s+1))}removeAllElements(){this.elements.length=0}removeTheseElements(t){let e=t.length;for(;e>0;){e-=1;let n=this.elements.length;for(;n>0;)if(n-=1,t[e]===this.elements[n]){this.elements.splice(n,1);continue}}}replaceElements(t){this.elements=t}}const Rt=Symbol("Template");function fe(i){return Object.defineProperty(i,Rt,{}),i}function W(i){return typeof i=="function"&&Rt in i}function ce(i,t,e){if(Number.isNaN(i)||Number.isNaN(t)||i===1/0||t===1/0||i===-1/0||t===-1/0)return!0;if(typeof i!="number"||typeof t!="number")return new Error('"start" and "end" arguments should be numbers');if(typeof e!="function")return new Error('"handler" argument should be a Function');if(t>=i)for(let n=i;n<=t&&e(n)!==!1;n++);else for(let n=i;n>=t&&e(n)!==!1;n--);return!0}function Et(i,t,e,n,s,r,l,o){if(typeof n!="function")throw new TypeError('"handler" argument should be a Function');const f=nt(e),c=f?f.target:e,a=t===2&&!!f;if(c instanceof Map||c instanceof Set)if(r===void 0){c.size===0&&typeof s=="function"&&(s(),o?.(D));for(const[h,y]of c.entries())if(it(i,n,h,y,l,o)===!1)break}else{const h=c instanceof Set?r:c.get(r);it(i,n,r,h,l,o)}else if(O(c))if(a&&e[Mt],r===void 0){Ct(c)===0&&typeof s=="function"&&(s(),o?.(D));for(const h in c)if(gt(i,n,h,e,l,o)===!1)break}else gt(i,n,r,e,l,o);else throw new TypeError(`The state argument should be an Object or an Array, but instead it is ${c}`);return!0}function it(i,t,e,n,s,r){let l=n;s&&(l=s?.call(i,l));let o=t(l,e),f=null;return o instanceof x?f=o:W(o)&&(o=o(i)),r?.(e,f),o}function gt(i,t,e,n,s,r){const l=n[e];return it(i,t,e,l,s,r)}const st=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]);class mt{tagName="-";parent=this;children=[];attributes={};newChild(t,e){const n=new mt;return n.parent=t,n.attributes=e,this.children.push(n),n}}class he{#t="";#e="";#s="";#i={};#n;#o;#u=[];#l=this.#w;#c="";#a="";#p={};#h="";#m="";#d="";#N=new mt;#r=this.#N;constructor(t,e){this.#u=this.#y(t,e),this.#b()}generate(t){if(this.#h||this.#m)throw new Error("Some HTML tag is not closed");return this.#E(t,this.#N)}#T(t,e){return typeof t=="function"?typeof e=="function"?e:t:typeof t=="string"&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")?t+e.toString():e}#E(t,e){const n=[];for(const s of e.children){let r=null;s.tagName==="if"?r=t.if(Yt(s.attributes.condition??""),()=>{this.#E(t,s)}):s.tagName==="for"?"iterations"in s.attributes?r=t.for(0,parseInt(s.attributes.iterations??0)-1,()=>{this.#E(t,s)}):("from"in s.attributes||"to"in s.attributes)&&(r=t.for(parseInt(s.attributes.from??0),parseInt(s.attributes.to??0),()=>{this.#E(t,s)})):s.tagName==="forEach"?"object"in s.attributes&&(r=t.forEach(s.attributes.object??{},()=>{this.#E(t,s)})):(r=t.createElement(s.tagName,s.attributes,this.#E(t,s)),n.push(r))}return n}#g(){const t=this.#r,e=this.#i;Object.keys(this.#p).length>0&&(e.style=this.#p);const n=this.#r.newChild(t,e);n.tagName=this.#h,this.#r=n}#y(t,e=[]){const n=[];for(let s=0;s<t.length;s++)t[s]&&n.push(t[s]),e[s]!==void 0&&n.push(e[s]);return n}#b(){for(let t=0;t<this.#u.length;t++)if(typeof this.#u[t]=="string")for(let e=0;e<this.#u[t].length;e++)this.#n=this.#u[t][e],this.#o=this.#u[t][e-1],this.#l();else this.#n=this.#u[t],this.#o=void 0,this.#l()}#A(t,e){t&&(this.#i[t]=typeof e=="string"?e.trim():e)}#f(t){t===this.#S&&(this.#t="",this.#s="",this.#e=""),this.#l=t}#C(t,e){t&&(this.#p[t]=typeof e=="string"?e.trim():e)}#S(){H(this.#n)||(this.#n==="/"?(st.includes(this.#h)&&this.#g(),this.#f(this.#I)):this.#n===">"?(this.#g(),this.#f(this.#w)):this.#n==="="?this.#f(this.#L):this.#t+=this.#n)}#L(){H(this.#n)||(this.#n==="'"||this.#n==='"'?(this.#e=this.#n,this.#f(this.#t==="style"?this.#x:this.#v)):(this.#e=" ",this.#s=this.#T(this.#s,this.#n),this.#f(this.#v)))}#v(){this.#n===">"&&this.#o!=="/"?(this.#e&&this.#t&&this.#s&&this.#A(this.#t,this.#s),this.#t="",this.#s="",this.#e="",this.#f(this.#w),this.#g()):this.#n===this.#e||this.#e===" "&&H(this.#n)?(this.#A(this.#t,this.#s),this.#f(this.#S)):typeof this.#n=="object"||typeof this.#n=="function"?this.#s=this.#n:this.#s+=this.#n}#w(){H(this.#n)||(this.#n==="<"?(this.#h="",this.#i={},this.#f(this.#M)):(this.#o===" "?this.#d=this.#o+this.#n:this.#d=this.#n,this.#h="",this.#i={},this.#g(),this.#f(this.#R)))}#x(){H(this.#n)||(this.#n===">"?this.#f(this.#w):this.#n===this.#e||this.#e===" "&&H(this.#n)?this.#f(this.#S):this.#n===":"?this.#f(this.#O):this.#c+=this.#n)}#O(){this.#n===">"?this.#f(this.#w):this.#n===";"?(this.#C(this.#c,this.#a),this.#c="",this.#a="",this.#f(this.#x)):this.#n===this.#e?(this.#C(this.#c,this.#a),this.#c="",this.#a="",this.#f(this.#S)):this.#a=this.#T(this.#a,this.#n)}#M(){if(H(this.#n))this.#h!==""&&this.#f(this.#S);else if(this.#n==="/"&&st.includes(this.#h))this.#r.tagName||(this.#r=this.#r.parent),this.#g(),this.#f(this.#I);else if(this.#n===">"){if(!this.#h)throw new Error("Expected tag name, found >");this.#r.tagName||(this.#r=this.#r.parent),this.#g(),this.#f(this.#w)}else this.#o==="<"&&this.#n==="/"?(this.#h,this.#m="",this.#f(this.#I)):this.#h+=this.#n}#I(){if(!H(this.#n))if(this.#n===">"){if(this.#r.tagName&&this.#r.tagName!=="-"&&!st.includes(this.#r.tagName)&&this.#r.tagName!==this.#m)throw new Error(`Expected ${this.#r.tagName} tag to be closed, but ${this.#m} found`);this.#h="",this.#m="",this.#r.tagName?this.#r=this.#r.parent:this.#r=this.#r.parent.parent,this.#f(this.#w)}else this.#m+=this.#n}#R(){this.#n==="<"?(this.#i={},this.#r.attributes.textContent=this.#d,this.#f(this.#M)):(this.#d=this.#T(this.#d,this.#n),this.#r.tagName||(this.#r.attributes.textContent=this.#d))}}const M=new WeakMap,k=new WeakMap;function ae(i,t,e,n,s,r,l){s===_.reactive&&(t=s),de(i,t,e,{element:n,elementProp:s,elementInnerProp:r,repaintFn:l},n)}function rt(i,t,e){const n=k.get(i);if(!n)return;const s=!t&&!e;let r=n.length;for(;r>0;){r-=1;const l=n[r];if(!l)continue;const[o,f,c]=l;if(t&&f!==t||e&&c!==e)continue;s||n.splice(r,1),M.get(o)?.get(f)?.delete(c);const a=M.get(o);if(a){const h=a.get(f);h&&(h.delete(c),h.size===0&&(a.delete(f),a.size===0&&M.delete(o)))}}(s||n.length===0)&&k.delete(i)}function ue(i,t,e,n,s){const r=k.get(i);let l=k.get(t);if(l||(l=[],k.set(t,l)),!r)return;const o=l.length;let f=r.length;for(;f>0;){f-=1;const c=r[f];if(!c)continue;const[a,h,y]=c;if(e&&h!==e||n&&y!==n)continue;const A=j(a,h);if(A){const E=A.get(y);if(E){for(const w of E)if(w.element===i&&(w.element=t,s))for(const b in s)w[b]=s[b]}}l.splice(o,0,c),r.splice(f,1)}r.length===0&&k.delete(i)}function me(i,t){const e=M.get(i);if(!e)return;let n=M.get(t);n||(n=new Map,M.set(t,n));for(const[s,r]of e){for(const[l,o]of r)for(const f of o){const{element:c}=f,a=k.get(c);if(a)for(const h of a)h[0]===i&&(h[0]=t)}n.set(s,r)}M.delete(i)}function j(i,t){const e=M.get(i);if(e)return e.get(t)}function de(i,t,e,n,s){let r=!1;const l=M.get(i);if(l){const o=l.get(t);if(o){const f=o.get(e);if(!f)o.set(e,[n]),r=!0;else{let c=!1;for(const a of f)if(a.element===n.element&&a.elementProp===n.elementProp&&a.elementInnerProp===n.elementInnerProp&&a.repaintFn===n.repaintFn){c=!0;break}c||(f.push(n),r=!0)}}else{const f=new Map;f.set(e,[n]),l.set(t,f),r=!0}}else{const o=new Map;o.set(e,[n]);const f=new Map;f.set(t,o),M.set(i,f),r=!0}if(r){const o=k.get(s);if(o)o.push([i,t,e]);else{const f=[],c=[i,t,e];f.push(c),k.set(s,f)}}}class pe{#t=[];get translations(){return this.#t}translate(t){if(typeof t=="string"){const e=this.#s(t,this.#t);if(typeof e=="string")return e;const n=Ht(),s=this.#s(t,n.paintorTranslations);if(typeof s=="string")return s}return t}translateArray(t){return this.translate(At.apply(null,this.#e(t)))}useTranslations(...t){for(const e of t)if(e instanceof Array)for(const n of e)this.#t.includes(n)||(this.#t=[...this.#t,n]);else e instanceof Object&&(this.#t.includes(e)||(this.#t=[...this.#t,e]))}#e(t){if(this.#t.length===0)return t;const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=this.translate(t[n]);return e}#s(t,e){if(e){for(const n of e)if(t in n)return n[t]}return!1}}const $=new WeakMap;class X{#t=[new G];#e;#s;#i=!0;#n=null;#o=this;#u=[];#l;#c;constructor(t,e,n,s){this.#c=t,this.#s=t.document,this.#i=this.#s.baseURI==="",this.#e=e,this.#u=n,this.#l=s;for(const r of[...It,"for","forEach","forState","html","if"])this[r]=this[r].bind(this)}static lastTemplateTreeToRender=null;createElement(t,...e){const n=t?this.#s.createElement(t):this.#s.createTextNode("");let s=[],r=0;for(const o of e)if(r+=1,typeof o=="string"){const f=this.#s.createTextNode(this.#l.translate(o));R(f,s)}else if(typeof o=="number"){const f=this.#s.createTextNode(o.toString());R(f,s)}else if(o instanceof this.#c.Node)R(o,s);else if(o instanceof Array){const f=o;if(f.length===0)continue;let c=!1;for(const a of f)if(a instanceof this.#c.Node){c=!0;break}if(c)J(o,s);else{const a=this.#s.createTextNode(this.#l.translateArray(o));R(a,s)}}else if(o instanceof Error)n.textContent=this.#l.translate(o.message);else if(o instanceof x){const f=o,c=this.#h(f),{length:a}=c;if(a>0)for(const h of c[a-1]??[])R(h,s)}else if(typeof o=="function")if(W(o)){const f=o,{thisLevel:c,upperLevel:a}=this.#d();f(this.#o);const h=this.#t[c]?.getElements()??[];J(h,s),this.#a({thisLevel:c,upperLevel:a})}else if(this.#i)n.innerHTML=`(${o.toString()})()`;else if(n instanceof HTMLScriptElement){const f=this.#s.createTextNode(`(${o.toString()})()`);n.appendChild(f)}else if("value"in n&&!(n instanceof HTMLLIElement))this.#C(n,{value:o});else{const f=()=>{const c=(a,h,y,A)=>{const E=a[0];if(typeof E=="function"||E instanceof x){if(E instanceof x){const w=this.#h(E);h?(R(y,s),J(w[0]??[],s),R(A,s)):this.#t[0]?.addElements(w[0]??[])}else if(W(E))if(E(this.#o),h){const w=this.#t.length-1,b=this.#t[w].getElements();R(y,s),J(b,s),R(A,s)}else s.length=0}else h&&y&&(this.#O(y),this.#C(n,{textContent:E}))};this.#v("nest",[o],!0,c)};this.#C(n,{textNode:o},f)}else O(o)&&r===1&&this.#C(n,o);const l=this.#t.length-1;if(s.length>0){const o=this.#t[l].getElements(),f=o.indexOf(s[0]);f>-1&&s.length<o.length-f&&(s=o.slice(f))}return pt(n,s),this.#t[l].removeTheseElements(s),this.#t[l].addElement(n),n}for(t,e,n){const s=r=>{const l=parseInt(r[0]),o=parseInt(r[1]),f=ce(l,o,n);f instanceof Error&&console.error(f)};return this.#v("for",[t,e],!0,s)}forEach(t,e,n){return U(t)?this.#T(t,e,n):this.#r(t,e,n)}forState(t,e,n){const s=nt(t);if(s){const r=s.parent;if(!U(r))throw new Error("The state must be a part of a state");const l=s.key;return this.#T(r,(o,f)=>{if(f!==l)return;if(W(e))return e(this.#o);const c=e(o);return typeof c=="function"?c(this.#o):c},n,l)}return this.#T(t,e,n)}getCreatedElements(){if(!this.#t[0])throw new Error("Missing data");return this.#t[0].getElements()}getHtmlCode(t){let e="";if(this.#i){const n=this.#e;n&&(e=n.paintChildren(t))}return e}html(t,...e){const n=e.length===0&&this.#l.translations.length===0?this.#E(t instanceof Array?t[0]??"":t):this.#g(t instanceof Array?t:[t],...e);for(const s of n)s.tagName===""&&(s.textContent=this.#l.translate(s.textContent));return n}if(t,e,n){const s=r=>{!!r[0]?e&&this.#x(e):n&&this.#x(n)};return typeof t=="function"?this.#v("if",[t],!0,s):this.#L(t,s)}async render(){X.lastTemplateTreeToRender=this.#o,this.#t=[new G];for(const t of this.#u)if(typeof t=="function"){let e=t(this.#o);if(e instanceof Promise&&(e=await e),e&&typeof e=="string")this.html(e);else if(e instanceof x)this.#m(e,0);else if(typeof e=="function")e(this.#o);else if(e instanceof Array){let n=!0,s=!0;for(const r of e){if(!(r instanceof x)){n=!1;break}if(typeof r!="function"){s=!1;break}}if(n)for(const r of e){if(!(r instanceof x))break;this.#m(r,0)}else if(s)for(const r of e){if(typeof r!="function")break;r(this.#o)}}}else t instanceof x&&this.#m(t,0);this.#p()}#a({thisLevel:t,upperLevel:e}){const n=this.#t[t],s=this.#t[e];if(!(n instanceof G)||!(s instanceof G))throw new Error("Missing data");const r=n.getElements()??[];return s.importElements(n),n.replaceElements([]),delete this.#t[t],this.#t.pop(),r}#p(){const t=this.#e;t&&pt(t,this.getCreatedElements())}#h(t){return this.#i?t.useTranslations(this.#l.translations).getElementsSr():t.useTranslations(this.#l.translations).getElements()}#m(t,e=-1){const n=this.#h(t),s=e<0?this.#t.length-1:e;for(const r of n)this.#t[s].addElements(r)}#d(){this.#t.push(new G);const t=this.#t.length-1,e=t-1;return{thisLevel:t,upperLevel:e}}#N(t){return this.#l.translate(t)}#r(t,e,n){const s=r=>{Et(this.#o,1,r[0],e,n,void 0,this.#N)};return this.#L(t,s)}#T(t,e,n,s){let r=null;if(!U(t))return new Error("The input object must be a state");const l=(o,f,c,a=!1)=>{const h=a?[]:{};let y=f.getElements().length;const A=(E,w=null)=>{w&&this.#x(w);const b=f.getElements(),p=y===0?b:b.slice(y);if(E===D){if(r)return;r=p}else if(r){for(const C of r)this.#O(C),C.remove();r=null}E===D?Object.defineProperty(h,E,{value:p,configurable:!0,enumerable:!1,writable:!1}):h[E]=p,y=b.length};return Et(this.#o,2,o,e,n,c,this.#N,A),h};return this.#w(t,l,typeof n=="function",s)}#E(t){let e=[];if(this.#i){const s=this.#s.createElement("");s.innerHTML=t??"",e=[s]}else{this.#n||(this.#n=this.#s.createElement("template"));const s=this.#n;s.innerHTML=t.trim()??"",e=Array.from(s.content.childNodes),s.innerHTML=""}const n=this.#t.length-1;return this.#t[n].addElements(e),e}#g(t,...e){return new he(t,e).generate(this)}#y(t,e){let n=t.nextSibling;for(;n&&n!==e;){this.#O(n);const s=n;n=n.nextSibling,s.remove()}}#b(t,e){if(!this.#e?.contains(t))return!1;let n=t;for(const s of e)jt(s,n),n=s;return!0}#A(t,e,n){const s=$.get(e);if(s)if(n==="*"){if(t!==e&&t.previousElementSibling===null&&e.nextElementSibling===null){for(const l in s)this.#f(s,l,!0);const r=t.parentElement;r&&(r.textContent="",r.appendChild(t),r.appendChild(e))}else for(const r in s)this.#f(s,r);s instanceof Array&&(s.length=0)}else this.#f(s,n)}#f(t,e,n){const s=t[e];if(s){for(const r of s)$.has(r)&&this.#A(r,r,"*"),this.#O(r),n||r.remove();delete t[e]}}#C(t,e,n){for(const s in e){let r=e[s];if(this.#i){if(St(s)&&typeof r=="function"){Z(t,s,r);continue}}else if(typeof r=="function"&&Gt(t,s,r))continue;if(typeof r=="function"){const l=r;Q(null,l,t,s,"",null);let o=l(t);if(W(o)||o instanceof x){B(),n&&n();continue}else if(typeof o=="function")o=o();else if(s==="textNode"){B();const f=this.#s.createTextNode(o);t.appendChild(f),ue(t,f,void 0,l,{elementProp:"textContent"});continue}B(),o instanceof Array?o=this.#l.translateArray(o):typeof o=="string"&&(o=this.#l.translate(o)),s&&Z(t,s,o)}else t instanceof this.#c.HTMLElement&&s==="style"&&O(r)?this.#S(t,r):t instanceof this.#c.HTMLElement&&s==="data"?O(r)&&qt(t,r):s==="textContent"?r instanceof Array?t[s]=this.#l.translateArray(r):t[s]=this.#l.translate(r):((s==="innerText"||s==="value"&&t.tagName==="INPUT"&&(t.getAttribute("type")??"").toLowerCase()==="button")&&(r=this.#l.translate(r)),Z(t,s,r))}}#S(t,e){for(const n in e){const s=e[n];let r="";if(typeof s=="function"){const l="style",o=s;Q(null,o,t,l,n,null),r=o(t),B()}else r=s;typeof n=="string"&&xt(t,n,r)}}#L(t,e){const{thisLevel:n,upperLevel:s}=this.#d();return e([t]),this.#a({thisLevel:n,upperLevel:s})}#v(t,e,n,s){const{thisLevel:r,upperLevel:l}=this.#d(),o=new Array(e.length);let f=!1;for(const c of e)if(typeof c=="function"){f=!0;break}if(f){const c=this.#s.createComment(`${t}-begin`),a=this.#s.createComment(`${t}-end`);n&&this.#t[r].addElement(c);const h=()=>{if(this.#i)return;const E=this.#t.length-1;this.#t[E].removeAllElements(),this.#y(c,a),s(o,!1,null,null),this.#b(c,this.#t[E].getElements())||console.error("Element ",c," does not exist anymore")},y=c,A=_[t]??"";for(let E=0;E<o.length;E++){const w=e[E];typeof w=="function"?(Q(null,w,y,A,"",p=>{o[E]=p,h()}),o[E]=w(),B()):o[E]=e[E]}s(o,!0,c,a),n&&this.#t[r].addElement(a)}else s(e,!1,null,null);return this.#a({thisLevel:r,upperLevel:l})}#w(t,e,n,s){const{thisLevel:r,upperLevel:l}=this.#d(),o=this.#s.createComment("reactive-begin"),f=this.#s.createComment("reactive-end"),c=this.#t[r];if(!c)throw new Error(`There are no collected elements at level ${r}`);c.addElement(o);const a=(b,p,C,L)=>{if(s!==void 0&&s!==L)return;let Y=!1;o.parentElement&&(this.#t.push(new G),Y=!0);const m=this.#t.length-1,d=e(b,this.#t[m],L,!1),u=$.get(f),T=v=>{L!==D&&L!==void 0&&(u[L]=v);for(const I of v)m===0&&this.#t.length>m&&this.#t[m].moveElementAfterAnother(I,C),C.after(I),C=I};if(d[D])T(d[D]);else for(const v in d){const I=d[v];T(I)}Y&&this.#t.pop()},h=(b,p,C,L,Y)=>{if(!(this.#i||!O(p))){if(b===g.CREATE){let m=null;if(p instanceof Array){let u=parseInt(L)-1;for(;u>-1;){if(p[u]===void 0){u-=1;continue}m=String(u);break}}else{const u=Object.keys(p),T=u.indexOf(L)-1;T>-1&&(m=u[T])}let d=o;if(m!==null){const u=$.get(f);if(u){const T=u[m];d=T&&T.length>0?T[T.length-1]:d}}a(C,p,d,L)}else if(b===g.DELETE)this.#A(o,f,L);else if(b===g.UPDATE)h(g.DELETE,p,C,L,void 0),h(g.CREATE,p,C,L,void 0);else if(p instanceof Array){if(b===g.ARRAY_SPLICE){const m=$.get(f);if(m instanceof Array){let[d,u,...T]=Y;if(d=parseInt(d),u=parseInt(u),u===1/0?u=p.length-d:u<0&&(u=0),u>0)for(let I=d,Ft=d+u;I<Ft;I++)h(g.DELETE,p,C,I.toString(),void 0);const v=Array(T.length);if(m.splice(d,u,...v),T.length>0)for(let I=d;I<d+T.length;I++)h(g.CREATE,p,C,I.toString(),void 0);m.length=p.length}}else if(b===g.ARRAY_REVERSE)for(let m=0,d=p.length;m<d;m++){const u=d-1-m;if(m>=u)break;h(g.ARRAY_SWAP,p,C,"",[m,u])}else if(b===g.ARRAY_SWAP){let[m,d]=Y;m=parseInt(m),d=parseInt(d);const u=$.get(f);if(u instanceof Array){const T=u[d];u[d]=u[m],u[m]=T;for(let v=1;v<u.length;v++)Xt(...u[v-1],...u[v])}}else if(b===g.ARRAY_COPY_WITHIN){let[m,d,u]=Y;d=parseInt(d),u=parseInt(u);for(let T=d,v=m;T<u;T++,v++)h(g.DELETE,p,C,v.toString(),void 0),h(g.CREATE,p,C,v.toString(),void 0)}else if(b===g.ARRAY_SORT)for(let m=0,d=p.length;m<d;m++)h(g.DELETE,p,C,m.toString(),void 0),h(g.CREATE,p,C,m.toString(),void 0);else if(b===g.ARRAY_LENGTH){let m=Y?.[0]??0;m=parseInt(m);const d=$.get(f);if(d instanceof Array){const u=d.length;if(m<u)if(m===0)this.#A(o,f,"*");else{let T=u;for(;T>0&&(T-=1,!(T<m));)d[T]!==void 0&&this.#A(o,f,T.toString())}d.length=p.length}}}n&&(!(p instanceof Array)||L==="")&&Ct(p)===0&&a(C,p,o,void 0)}},y=_.reactive;Q(t,()=>t,f,y,"",h);const E=t instanceof Array,w=e(t,c,void 0,E);return Object.hasOwn(w,D)&&delete w[D],$.set(f,w),B(),c.addElement(f),this.#a({thisLevel:r,upperLevel:l})}#x(t){if(t instanceof x){this.#m(t);return}if(typeof t=="function"){if(W(t)){t(this.#o);return}const e=t(this.#o);(e instanceof x||typeof e=="function")&&this.#x(e)}}#O(t){rt(t);const e=t.childNodes;let n=e.length;for(;n>0;)n-=1,this.#O(e[n])}}function Ee(...i){const t=this;return function(...n){return t.call(this,...i,...n)}}const{prototype:ot}=X;Object.assign(ot.createElement,{bindArgs:Ee});It.forEach(i=>{ot[i]=ot.createElement.bindArgs(i)});class ge{#t;#e;#s;constructor(t,e,n){this.#t=t,this.#e=e,this.#s=n}getArrayFunction(t){return t in this?this[t]:this.#t[t]}copyWithin=(...t)=>{const e=this.#t,n=this.#e;let[s,r,l]=t;const{length:o}=e;if(s<0)s+=o;else if(s<-o)s=0;else{if(s>=o)return;s>r&&(l=o-1)}if(r<0)r+=o;else if(r<-o||r===void 0)r=0;else if(r>=o)return;if(l<0)l+=o;else if(l<-o)l=0;else if(l>=o||l===void 0)l=o;else if(l<=r)return;const f=e.copyWithin.apply(e,[s,r,l]);return this.#s(g.ARRAY_COPY_WITHIN,e,n,[s,r,l]),f};forEach=(t,e)=>{const n=this.#t,s=this.#e;X.lastTemplateTreeToRender?.forEach(s,(l,o)=>{t.apply(e,[l,o,n])})};push=(...t)=>{const e=this.#t,n=this.#e;let r=e.length-1;for(const l of t)r+=1,n[r]=l;return r};reverse=()=>{const t=this.#t,e=this.#e,n=t.reverse.apply(t);return this.#s(g.ARRAY_REVERSE,t,e),n};shift=()=>{const t=this.#t,e=this.#e,n=t.length,s=t.shift.apply(t);return this.#s(g.ARRAY_SPLICE,t,e,[0,1]),this.#i(e,n),s};sort=(...t)=>{const e=this.#t,n=this.#e,s=e.sort.apply(e,t);return this.#s(g.ARRAY_SORT,e,n,t),s};splice=(...t)=>{const e=this.#t,n=this.#e,s=e.length,r=e.splice.apply(e,t);return this.#s(g.ARRAY_SPLICE,e,n,t),this.#i(n,s),r};unshift=(...t)=>{const e=this.#t,n=this.#e,s=e.length,r=e.unshift.apply(e,t);return this.#s(g.ARRAY_SPLICE,e,n,[0,0,...t]),this.#i(n,s),r};#i(t,e){const n=t.length;e!==n&&Object.assign(t,{length:n})}}const yt=new WeakMap;function ye(i,t,e,n){let s=yt.get(t);return s||(s=new ge(t,e,n),yt.set(t,s)),s.getArrayFunction(i)}const K={create:new WeakMap,change:new WeakMap,delete:new WeakMap,set:new WeakMap};function lt(i,t,e,n){_t(i);const s=K[t],r=s.get(i);if(r){const l=r.get(e);l?l.includes(n)||l.push(n):r.set(e,[n])}else{const l=new Map;l.set(e,[n]),s.set(i,l)}}function Dt(i,t,e){if(t&&!(t in K))throw new Error(`Invalid observer type "${t}"`);_t(i);const n=P.receiver??i;if(!U(n))throw new Error("Invalid observer receiver");if(t)Tt(t,n,P.prop,e);else for(const s in K)Tt(s,n,P.prop,e)}function _t(i){U(i)&&(i[le],P.prop=void 0)}function Tt(i,t,e,n){const r=K[i].get(t);if(r){const l=r.get(e);l&&(n?Ut(l,n,!0):l.length=0)}}function Te(i,t,e,n,s){if(n==="length"&&t instanceof Array)return;const r=t[n],l=ft(i,e,n);if(l)for(const f of l)f({key:n,value:r,oldValue:s,state:e,target:t});const o=ft(i,e,void 0);if(o)for(const f of o)f({key:n,value:r,oldValue:s,state:e,target:t})}function ft(i,t,e){const s=K[i].get(t);if(s)return s.get(e)}const z={getSubsBy:ft,runCallbacks:Te,subscribe:lt,unsubscribe:Dt},bt=Symbol("isProxy"),P={receiver:void 0,prop:void 0};class be{createProxy(t,e,n=null){if(!O(t))throw new Error("Cannot create a Proxy on non-object");if(U(t)||t instanceof Date)return t;const s=this.#t,r=new Proxy(t,s);return O(t)&&(kt(r)||we(r,{key:e,parent:n,target:t})),r}#t={get:(t,e,n)=>e===bt?!0:O(t[e])&&!t[e][bt]?(t[e]=this.createProxy(t[e],e,n),t[e]):(P.receiver=n,P.prop=e,Object.hasOwn(t,e)||e===Mt?(N.element&&(!N.state||N.state===n)&&ae(n,e,N.bindFn,N.element,N.elementProp,N.elementInnerProp,N.repaintFn),t[e]):t instanceof Array&&typeof t[e]=="function"&&typeof e=="string"?ye(e,t,n,this.#e):t[e]),set:(t,e,n,s)=>{if(e==="length"&&t instanceof Array){const r=t[e];t[e]=n,this.#e(g.ARRAY_LENGTH,t,s,[n]),this.#c(e,t,s,r)}else if(Object.hasOwn(t,e))if(O(n)&&!(n instanceof Date)&&t[e]!==n){if(t[e]!==n){if(O(t[e])&&O(n)){for(const l in n)n[l]instanceof Array&&t[e][l]instanceof Array&&t[e][l].length!==n[l].length?t[e][l].length=n[l].length:O(n[l])&&O(t[e][l])&&this.#i(e,t,s);for(const l in t[e])l in n||this.#i(l,t,s[e])}const r=t[e];t[e]=n,me(r,s[e]);for(const l in t[e])this.#o(l,t[e],s[e]);this.#o(e,t,s)}}else if(t[e]!==n){const r=t[e];t[e]=n,this.#i(e,t,s),this.#s(e,t,s),this.#c(e,t,s,r)}else this.#o(e,t,s);else{const r=t instanceof Array?t.length:-1;t[e]=n,this.#u(e,t,s),this.#s(e,t,s),t instanceof Array&&t.length!==r&&(s.length=t.length)}return!0},deleteProperty:(t,e)=>{const n=t[e];delete t[e];const s=Ne(t);if(s)for(const r of s)this.#l(e,t,r,n),this.#i(e,t,r);return!0}};#e=(t,e,n,s)=>{const r=j(n,_.reactive);if(r)for(const[l,o]of r)for(const f of o){const c=f.repaintFn;c&&c(t,e,n,"",s)}};#s(t,e,n){this.#n(g.CREATE,t,e,n)}#i(t,e,n){this.#n(g.DELETE,t,e,n)}#n(t,e,n,s){const r=j(s,_.reactive);if(r)for(const[l,o]of r)for(const f of o){const c=f.repaintFn;c&&c(t,n,s,e)}}#o(t,e,n){const s=j(n,_.reactive);if(s)for(const[r,l]of s)for(const o of l){const f=o.repaintFn;f&&f(g.UPDATE,e,n,t)}}#u(t,e,n){z.runCallbacks("create",e,n,t),z.runCallbacks("set",e,n,t)}#l(t,e,n,s){z.runCallbacks("delete",e,n,t,s)}#c(t,e,n,s){z.runCallbacks("change",e,n,t,s),z.runCallbacks("set",e,n,t,s);const r=j(n,t);if(r)for(const[l,o]of r)for(const f of o){const{element:c,elementProp:a,elementInnerProp:h,repaintFn:y}=f;let A=l.call(c,c);a==="style"&&h?xt(c,h,A):a===_.if||a===_.for||a===_.nest?y&&y(A):(typeof A=="function"&&(A=A()),Z(c,a,A))}}}const dt=new WeakMap,ct=new WeakMap,nt=function(i){return dt.get(i)},kt=function(i){return dt.has(i)},we=function(i,t){dt.set(i,t);const e=ct.get(t.target)??[];e.includes(i)||e.push(i),ct.set(t.target,e)},Ne=function(i){return ct.get(i)},U=function(i){return O(i)&&kt(i)};function Ae(i,t){const e=nt(i);if(!e)throw new Error("The first argument in setState() must be a state object");if(!O(t))throw new Error("The new state in setState() must be Object or Array");const{key:n,parent:s}=e;s&&(s[n]=t)}const Pt=function(t){if(!(t instanceof Object)&&!(t instanceof Array))throw new Error("state() only accepts Object or Array");const e=nt(t);e&&(t=e.target);const n=new be,s="",r={"":t};return n.createProxy(r,"",null)[s]},Ce=new oe;class x{state=null;#t=[];#e=[];#s="";#i=!1;#n=!1;#o="";#u="";#l=new Map;#c=new Map;#a=[];#p=new pe;#h=!1;clear(){for(const t of this.#e)for(const e of t)rt(e),e.remove();this.#e.length=0,this.#s="",this.#l.clear(),this.#c.clear()}getElements(){return this.#i?this.#N(null):(this.#y(null,window,!0),this.#e)}getElementsSr(){if(this.#i)return this.#N("");const t=this.#r();return this.#y("",t,!0),this.#e}html(t){if(this.#i)return this.staticHtml(t);const e=this.#r();return this.#y("",e,!0,t),this.#s}paint(t){if(!ht)throw new Error("You can only use this function in browser environment");if(!t)throw new Error("No container selected.");if(typeof t!="string"&&!(t instanceof HTMLElement)&&!(t instanceof NodeList)&&!(t instanceof Array)&&!(t instanceof HTMLCollection))throw new Error(`Wrong type for the container element. Expected <string> or <Node>, got <${typeof t}>`);this.#y(t,window,!0)}static(t=!0){return this.#i=t,this}staticHtml(t){const e=this.#p.translations[0]??null;if(!this.#c.has(e)){const n=this.#r();this.#y("",n,!0,t),this.#c.set(e,this.#s)}return this.#c.get(e)??""}template(t){}useTemplates(...t){if(t instanceof Array)for(const e of t)if(e instanceof Array)for(const n of e)this.#a.push(n);else this.#a.push(e);return this}useTranslations(...t){return this.#p.useTranslations(...t),this}#m(){if(this.#t)for(const t of this.#t)for(;t?.firstChild;)t.removeChild(t.firstChild)}#d(t){let e=-1,n=-1;for(const s of this.#t)n+=1,t===s&&(e=n);if(e!==-1){delete this.#t[e];for(const s of this.#e[e]??[])rt(s),s.remove();delete this.#e[e],this.#s="";for(const[s,r]of this.#l)delete r[e];this.#c.clear()}}#N(t){const e=this.#p.translations[0]??null;if(!this.#l.has(e)){const n=this.#r();this.#y(t,n,!0),this.#l.set(e,this.#e)}return this.#l.get(e)??[]}#r(){return Ce}#T(t,e,n){this.#h||(this.#h=!0,this.#e.length=0,this.#s="",this.#E(t,e),this.#g(n))}#E(t,e){const n=e.document.baseURI==="";if(typeof t=="string")if(this.#o=t,this.#n=!1,Wt(t))this.#n=!0;else{Bt(t)||(this.#u=t);const s=n?[e.document.createElement("#container")]:e.document.querySelectorAll(t);if(this.#t=Array.from(s),!this.#t)throw new Error(`Could not find an element by the following query: ${t}`)}else if(t instanceof HTMLElement)this.#t=[t];else if(t instanceof NodeList||t instanceof HTMLCollection)this.#t=Array.from(t);else if(t instanceof Array){for(const s of t)if(!(s instanceof HTMLElement))throw new Error("All elements in the input array must be DOM elements");this.#t=t}return!0}#g(t){typeof this.template=="function"&&(this.state=this.state?Pt(this.state):this.state,this.#a.push(this.template.bind(this)));for(const e of t)if(typeof e!="function"&&!(e instanceof x))throw new Error("The template must be a function");return!0}#y(t,e,n=!0,s={}){this.#T(t,e,this.#a),n&&this.#m();const r=this.#a;if(!e)throw new Error("Missing window element");if(this.#n){if(customElements.get(this.#o)){const o=document.getElementsByTagName(this.#o);for(const f of o)this.#b(e,f.shadowRoot,r,s);return}const l=o=>class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){if(!this.shadowRoot)throw new Error("Missing shadow root");o.#b(e,this.shadowRoot,r,s)}disconnectedCallback(){o.clear()}};customElements.define(this.#o,l(this))}else if(this.#u&&new MutationObserver(o=>{for(const f of o){const{addedNodes:c,removedNodes:a}=f;for(const h of c)h instanceof HTMLElement&&h.matches(this.#u)&&this.#b(e,h,r,s);for(const h of a)this.#d(h)}}).observe(document.body,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),this.#t.length===0)this.#b(e,null,r,s);else for(const l of this.#t)this.#b(e,l,r,s)}#b(t,e,n,s={}){const r=new X(t,e,n,this.#p);r.render(),this.#s=r.getHtmlCode(s),this.#e.push(r.getCreatedElements())}}function Se(...i){return new x().useTemplates(...i)}function xe(i){return i instanceof x}const Oe="modulepreload",ve=function(i){return"/"+i},wt={},Nt=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){const r=document.getElementsByTagName("link");s=Promise.all(e.map(l=>{if(l=ve(l),l in wt)return;wt[l]=!0;const o=l.endsWith(".css"),f=o?'[rel="stylesheet"]':"";if(!!n)for(let h=r.length-1;h>=0;h--){const y=r[h];if(y.href===l&&(!o||y.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${f}`))return;const a=document.createElement("link");if(a.rel=o?"stylesheet":Oe,o||(a.as="script",a.crossOrigin=""),a.href=l,document.head.appendChild(a),o)return new Promise((h,y)=>{a.addEventListener("load",h),a.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}return s.then(()=>t()).catch(r=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r})},Le=function(){let i="en";return ht&&(i=document.getElementById("html")?.getAttribute("lang")??i),i},Ie=async function(i,t){if(typeof i!="string")throw new Error("Translation path must be a string");let e=null;const n=i.match(/^(.*?)([^.\/\\]+)(.\w+)$/um);if(n===null)throw new TypeError(`Incorrect path: ${i}`);const s=n[1]+t+n[3];try{e=(await Nt(()=>import(s),__vite__mapDeps([]))).default}catch{s!==i&&(e=(await Nt(()=>import(i),__vite__mapDeps([]))).default)}if(!(e instanceof Object))throw new TypeError(`Translation at ${s} must export an object`);return e},Me=async function(...i){const t=Le(),e=[];for(const n of i)e.push(Ie(n,t));return Promise.all(e)};class Re{#t;useInputs(t){return this.#t=t,this}create(t){return this.#e("create",t)}change(t){return this.#e("change",t)}delete(t){return this.#e("delete",t)}set(t){return this.#e("set",t)}#e(t,e){if(this.#s(e),U(this.#t))lt(this.#t,t,void 0,e);else{if(!P.receiver)throw new Error("Cannot observe a non-state");lt(P.receiver,t,P.prop,e)}}#s(t){if(!t)throw new Error("You must provide a callback function")}}function De(i){return new Re().useInputs(i)}function _e(i,t,e){return Dt(i,t,e)}const Fe={component:Se,fetchTranslations:Me,isComponent:xe,isState:U,isTemplate:W,on:De,off:_e,setState:Ae,state:Pt,template:fe,Component:x};export{x as Component,Se as component,Fe as default,Me as fetchTranslations,xe as isComponent,U as isState,W as isTemplate,_e as off,De as on,Fe as paintor,Ae as setState,Pt as state,fe as template};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=bundle.js.map
