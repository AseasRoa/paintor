const E=Object.freeze({CREATE:1,READ:2,UPDATE:3,DELETE:4,ARRAY_SPLICE:5,ARRAY_SWAP:6,ARRAY_COPY_WITHIN:7,ARRAY_SORT:8,ARRAY_PUSH:9,ARRAY_LENGTH:10}),mt=Object.freeze(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]),K=Symbol("Access"),D=Symbol("TemplateFunction"),S={element:null,propertyName:"",subPropertyName:"",bindFunction:null,repaintFunction:null};function V(i,t,e,s,n){S.element=i,S.propertyName=t,S.subPropertyName=e,S.bindFunction=s,S.repaintFunction=n}function U(){S.element=null,S.propertyName="",S.subPropertyName="",S.bindFunction=null,S.repaintFunction=null}class At{#t;#s;#n;constructor(t,e,s){this.#t=t,this.#s=e,this.#n=s}getArrayFunction(t){return t in this?this[t]:this.#t[t]}copyWithin=(...t)=>{const e=this.#t,s=this.#s;let[n,r,l]=t;const{length:o}=e;if(n<0)n+=o;else if(n<-o)n=0;else{if(n>=o)return;n>r&&(l=o-1)}if(r<0)r+=o;else if(r<-o||r===void 0)r=0;else if(r>=o)return;if(l<0)l+=o;else if(l<-o)l=0;else if(l>=o||l===void 0)l=o;else if(l<=r)return;const c=e.copyWithin.apply(e,[n,r,l]);return this.#n(E.ARRAY_COPY_WITHIN,s,[n,r,l]),c};forEach=(t,e)=>{const s=this.#t,n=this.#s;z.lastTemplateTreeToRender?.forEach(n,(l,o)=>{t.apply(e,[l,o,s])})};push=(...t)=>{const e=this.#t,s=this.#s,n=e.length;let r=n-1;for(const l of t)r+=1,s[r]=l;return this.#i(s,n),r};reverse=()=>{const t=this.#t,e=this.#s,s=t.reverse.apply(t);for(let n=0,r=t.length;n<r;n++){const l=r-1-n;if(n>=l)break;this.#n(E.ARRAY_SWAP,e,[n,l])}return s};shift=()=>{const t=this.#t,e=this.#s,s=t.length,n=t.shift.apply(t);return this.#n(E.ARRAY_SPLICE,e,[0,1]),this.#i(e,s),n};sort=(...t)=>{const e=this.#t,s=this.#s,n=e.sort.apply(e,t);return this.#n(E.ARRAY_SORT,s,t),n};splice=(...t)=>{const e=this.#t,s=this.#s,n=e.length,r=e.splice.apply(e,t);return this.#n(E.ARRAY_SPLICE,s,t),this.#i(s,n),r};unshift=(...t)=>{const e=this.#t,s=this.#s,n=e.length,r=e.unshift.apply(e,t);return this.#n(E.ARRAY_SPLICE,s,[0,0,...t]),this.#i(s,n),r};#i(t,e){const s=t.length;e!==s&&Object.assign(t,{length:s})}}const ft=new WeakMap;function Ct(i,t,e,s){let n=ft.get(t);return n||(n=new At(t,e,s),ft.set(t,n)),n.getArrayFunction(i)}const $=new WeakMap;function gt(i,t){$.has(i)||$.set(i,[]);const e=$.get(i);e&&e.push(t)}function St(i,t,e,s){const n=$.get(i);if(!n)return;let r=n.length;for(;r>0;){r-=1;const l=n[r];if(!l)break;if(e===void 0||e===l.bindFunction){if(s)for(const o in s)l[o]=s[o];gt(t,l),n.splice(r,1),n.length===0&&$.delete(i);for(const[o,c]of l.stateSubscription.subscriptions){const f=c.get(i);if(!f)continue;let h=f.length;for(;h>0;){h-=1;const a=f[h];if(!a)break;if(e===void 0||a.bindFunction===e){f.splice(h,1),f.length===0&&c.delete(i);const u=c.get(t)??[];u.push(l),c.set(t,u)}}}}}}function Ot(i,t){const e=$.get(i);if(e){let s=e.length;for(;s>0;)s-=1,e[s].stateSubscription===t&&e.splice(s,1)}}function et(i){const t=$.get(i);if(!t)return;let e=t.length;for(;e>0;)e-=1,t[e]&&t[e]?.stateSubscription.unsubscribe(i);$.delete(i)}class xt{#t=new Map;get subscriptions(){return this.#t}subscribe(t,e,s,n,r,l,o){(n==="-s-if"||n==="-s-forEach"||n==="-s-reactive")&&(e=n),this.#t.has(e)||this.#t.set(e,new Map);const c=this.#t.get(e)??new Map;c.has(s)||c.set(s,[]);const f=c.get(s);for(const d of f)if(d.propertyName===n&&d.subPropertyName===r&&d.bindFunction===l&&d.repaintFunction===o)return;const h=this,a=L(t)?.path??"",u={propertyName:n,subPropertyName:r,bindFunction:l,repaintFunction:o,stateSubscription:h,statePath:a};f.push(u),gt(s,u)}unsubscribe(t){Ot(t,this);for(const[e,s]of this.#t)s.delete(t)}}class Ft{#t;constructor(){this.#t=new xt}createProxy(t,e,s=null){if(!(t instanceof Object))throw new Error("Cannot create a Proxy on non-object");if(j(t)||t instanceof Date)return t;const n=this.#s,r=new Proxy(t,n);t instanceof Object&&(st(r)||Lt(r,{target:t,path:e,parent:s}));for(const l in t)if(t[l]instanceof Object){if(st(r[l]))continue;const o=e===""?l:`${e}.${l}`;r[l]=this.createProxy(t[l],o,r)}else r[l]=t[l];return r}#s={get:(t,e,s)=>{const n=L(t);if(n&&(t=n.target),Object.hasOwn(t,e)||e===K)S.element&&this.#t.subscribe(s,e,S.element,S.propertyName,S.subPropertyName,S.bindFunction,S.repaintFunction);else if(t instanceof Array&&t[e]instanceof Function&&typeof e=="string")return Ct(e,t,s,this.#i);return t[e]},set:(t,e,s,n)=>{if(t instanceof Array&&e==="length")t[e]=s,this.#i(E.ARRAY_LENGTH,n,[s]),this.#f(e,n),this.#r(e);else if(Object.hasOwn(t,e))if(s instanceof Object&&!(s instanceof Date))if(j(s))t[e]!==s&&(t[e]=s,this.#f(e,n),this.#r(e));else{let r=typeof e=="string"?e:"";const l=L(n);if(l&&l.path!==""&&(r=l.path+"."+r),t[e]instanceof Object&&s instanceof Object){for(const c in s)s[c]instanceof Array&&t[e][c]instanceof Array&&t[e][c].length!==s[c].length?t[e][c].length=s[c].length:s[c]instanceof Object&&t[e][c]instanceof Object&&this.#a(e,n);for(const c in t[e])c in s||this.#a(c,n[e])}const o=j(n)?n:null;t[e]=this.createProxy(s,r,o),this.#f(e,n)}else t[e]!==s?(t[e]=s,this.#f(e,n),this.#r(e)):this.#f(e,n);else{if(s instanceof Object&&!j(s)){let r=typeof e=="string"?e:"";const l=L(n);l&&l.path!==""&&(r=l.path+"."+r),t[e]=this.createProxy(s,r,n)}else t[e]=s;this.#e(e,n)}return!0},deleteProperty:(t,e)=>{delete t[e];const s=Mt(t);if(s)for(const n of s)this.#a(e,n);return!0}};#n(t,e){const s=L(t);if(!s)throw new Error("Missing meta data");const{repaintFunction:n,statePath:r}=e;return s.path!==r||!n?null:n}#i=(t,e,s)=>{const n=this.#t.subscriptions.get("-s-reactive");if(n)for(const[r,l]of n)for(let o=0,c=l.length;o<c;o++){const f=this.#n(e,l[o]);f&&f(t,e,"",s)}};#e(t,e){this.#l(E.CREATE,t,e)}#l(t,e,s){const n=this.#t.subscriptions.get("-s-reactive");if(n)for(const[r,l]of n)for(let o=0,c=l.length;o<c;o++){const f=this.#n(s,l[o]);f&&f(t,s,e)}}#a(t,e){this.#l(E.DELETE,t,e)}#r(t){const e=this.#t.subscriptions.get(t);if(e)for(const[s,n]of e)for(const r of n){const{propertyName:l,subPropertyName:o,bindFunction:c,repaintFunction:f}=r;let h=c.call(s,s);l==="style"&&o?s.style[o]=yt(o,h):l==="--if"||l==="--for"||l==="--nest"?f&&f(h):(h instanceof Function&&(h=h()),X(s,l,h))}}#f(t,e){if(!L(e))throw new Error("Missing meta data");const n=this.#t.subscriptions.get("-s-reactive");if(n)for(const[r,l]of n)for(let o=0,c=l.length;o<c;o++){const f=this.#n(e,l[o]);f&&f(E.UPDATE,e,t)}}}const rt=new WeakMap,nt=new WeakMap,L=function(i){return rt.get(i)},st=function(i){return rt.has(i)},Lt=function(i,t){rt.set(i,t);const e=nt.get(t.target)??[];e.includes(i)||e.push(i),nt.set(t.target,e)},Mt=function(i){return nt.get(i)},j=function(i){return i instanceof Object&&st(i)};function Dt(i,t){const e=L(i);if(!e)throw new Error("The first argument in setState() must be a state object");if(!(t instanceof Object))throw new Error("The new state in setState() must be Object or Array");const s=e.parent;s&&(s[e.path]=t)}const pt=function(t){if(!(t instanceof Object))throw new Error("state() only accepts Object or Array");const e=L(t);e&&(t=e.target);const s=new Ft,n="",r={"":t};return s.createProxy(r,"",null)[n]};function _t(){return typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||this}function Et(i,...t){const e=/(%?)(%([ojdsif]))/ug;if(i=i??"",t.length>0){const s=(n,r,l,o)=>{const c=t.shift();let f="";switch(o){case"o":Array.isArray(c)&&(f=JSON.stringify(c));break;case"s":f=String(c);break;case"d":f=String(Number(c));break;case"j":f=JSON.stringify(c);break;case"i":f=String(parseInt(String(c),10));break;case"f":f=String(parseFloat(String(c)));break}return r?(t.unshift(f),n):f};i=i.replace(e,s)}return t.length>0&&(i+=` ${t.join(" ")}`),i=i.replace(/%{2,2}/ug,"%"),String(i)}function H(){if(H.isIt===void 0){const i=new Function("try {return this===window;}catch(e){ return false;}");H.isIt=i()}return H.isIt??!1}H.isIt=void 0;function R(i,t){t.push(i)}function q(i,t){for(const e of i)t.push(e)}function bt(i){return i.toLowerCase().indexOf("on")===0}function k(i){return i===" "||i==="	"||i==="\r"||i===`
`}function Rt(i){return/^[a-z][a-z0-9-]+$/u.test(i)&&i.includes("-")}function Pt(i){return/#[a-z0-9-]+\s*$/u.test(i)}function It(i){if(i==="true")return!0;if(i==="false")return!1;const t=parseInt(i);return isNaN(t)?!!i:!!t}function vt(i,t,e){if(!(i instanceof window.Node)||typeof t!="string"||typeof e!="function"||bt(t)===!1)return!1;const s=t.toLowerCase().substring(2);return i.addEventListener(s,e),!0}function kt(i,t){if(t.length===1)i.appendChild(t[0]);else if(t.length>1){const e=new DocumentFragment;for(const s of t)s&&e.append(s);i.appendChild(e)}}function jt(i,t){for(const e of t)e&&i.appendChild(e)}function ht(i,t){i&&(H()&&i instanceof window.Node?kt(i,t):jt(i,t))}function at(i,t,e,s,n,r,l,o){if(!(s instanceof Function))throw new TypeError('"handler" argument should be a Function');const c=L(e),f=c?c.target:e,h=t===2&&c;if(f instanceof Array){h&&e[K],r===void 0&&f.length===0&&n instanceof Function&&(n(),o?.(void 0));for(const a in f){if(r!==void 0&&r!==a)continue;let u=h&&f[a]instanceof Object?e[a]:f[a];l&&(u=l?.call(i,u));let d=s(u,a),T=null;if(d instanceof A&&(T=d),d instanceof Function&&d[D]&&(d=d(i)),o?.(a,T),d===!1)break}}else if(f instanceof Map||f instanceof Set){h&&e[K],r===void 0&&f.size===0&&n instanceof Function&&(n(),o?.(void 0));for(const[a,u]of f.entries()){if(r!==void 0&&r!==a)continue;let d=u;l&&(d=l?.call(i,d));let T=s(d,a),O=null;if(T instanceof A?O=T:T instanceof Function&&T[D]&&(T=T(i)),o?.(a,O),T===!1)break}}else if(f instanceof Object){h&&e[K],r===void 0&&Object.keys(f).length===0&&n instanceof Function&&(n(),o?.(void 0));for(const a in f){if(r!==void 0&&r!==a)continue;let u=h&&f[a]instanceof Object?e[a]:f[a];l&&(u=l?.call(i,u));let d=s(u,a),T=null;if(d instanceof A?T=d:d instanceof Function&&d[D]&&(d=d(i)),o?.(a,T),d===!1)break}}else throw new TypeError(`The state argument should be an Object or an Array, but instead it is ${f}`);return!0}function $t(i,t,e){if(typeof i!="number"||typeof t!="number")return new Error('"start" and "end" arguments should be numbers');if(!(e instanceof Function))return new Error('"handler" argument should be a Function');if(t>=i)for(let s=i;s<=t&&e(s)!==!1;s++);else for(let s=i;s>=t&&e(s)!==!1;s--);return!0}function Ht(i,t){return i.splice(t,1),i}function Ut(i,t){if(!t)return;const{nextSibling:e,parentNode:s}=t;s&&s.insertBefore(i,e)}function Yt(i,t){if(t instanceof Object)for(const e in t){const s=(t[e]??"").toString();i.setAttribute(`data-${e}`,s)}}function X(i,t,e){t in i?e instanceof Array?i[t]=Et.apply(null,e):i[t]=e??"":"setAttribute"in i&&i.setAttribute(t,e)}function yt(i,t){let e=t;return(i==="visibility"||i==="backfaceVisibility")&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?"visible":"hidden"),i==="display"&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?"":"none"),i==="flex"&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?1:0),e}function Bt(i){return i instanceof Array?i.length:i instanceof Map||i instanceof Set?i.size:i instanceof Object?Object.keys(i).length:0}function Gt(i,t,e){if(e>=i.length){let s=e-i.length+1;for(;s>0;)s-=1,i.push(void 0)}return i.splice(e,0,i.splice(t,1)[0]),i}const Wt=(...i)=>{for(let t=1;t<i.length;t++)i[t-1].after(i[t])};class Y{elements=[];addElement(t){t&&this.elements.push(t)}addElements(t){for(const e of t)this.elements.push(e)}getElements(){return this.elements}hasElement(t){return this.elements.indexOf(t)>-1}importElements(t){const e=t.getElements();for(const s of e)this.addElement(s)}moveElementAfterAnother(t,e){const s=this.elements.indexOf(t),n=this.elements.indexOf(e);if(s===-1||n===-1)throw new Error("Cannot move one element after another, because one element is missing");n-s!==1&&(this.elements=Gt(this.elements,s,n+1))}removeAllElements(){this.elements.length=0}removeTheseElements(t){let e=t.length;for(;e>0;){e-=1;let s=this.elements.length;for(;s>0;)if(s-=1,t[e]===this.elements[s]){this.elements.splice(s,1);continue}}}replaceElements(t){this.elements=t}}class ot{tagName="-";parent=this;children=[];attributes={};newChild(t,e){const s=new ot;return s.parent=t,s.attributes=e,this.children.push(s),s}}const tt=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]);class zt{#t="";#s="";#n="";#i={};#e;#l;#a=[];#r=this.#C;#f="";#u="";#E={};#h="";#d="";#g="";#T=new ot;#o=this.#T;constructor(t,e){this.#a=this.#p(t,e),this.#m()}generate(t){if(this.#h||this.#d)throw new Error("Some HTML tag is not closed");return this.#b(t,this.#T)}#N(t,e){return typeof t=="function"?typeof e=="function"?e:t:typeof t=="string"&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")?t+e.toString():e}#b(t,e){const s=[];for(const n of e.children){let r=null;n.tagName==="if"?r=t.if(It(n.attributes.condition??""),()=>{this.#b(t,n)}):n.tagName==="for"?"iterations"in n.attributes?r=t.for(0,parseInt(n.attributes.iterations??0)-1,()=>{this.#b(t,n)}):("from"in n.attributes||"to"in n.attributes)&&(r=t.for(parseInt(n.attributes.from??0),parseInt(n.attributes.to??0),()=>{this.#b(t,n)})):n.tagName==="forEach"?"object"in n.attributes&&(r=t.forEach(n.attributes.object??{},()=>{this.#b(t,n)})):(r=t.createElement(n.tagName,n.attributes,this.#b(t,n)),s.push(r))}return s}#y(){const t=this.#o,e=this.#i;Object.keys(this.#E).length>0&&(e.style=this.#E);const s=this.#o.newChild(t,e);s.tagName=this.#h,this.#o=s}#p(t,e=[]){const s=[];for(let n=0;n<t.length;n++)t[n]&&s.push(t[n]),e[n]!==void 0&&s.push(e[n]);return s}#m(){for(let t=0;t<this.#a.length;t++)if(typeof this.#a[t]=="string")for(let e=0;e<this.#a[t].length;e++)this.#e=this.#a[t][e],this.#l=this.#a[t][e-1],this.#r();else this.#e=this.#a[t],this.#l=void 0,this.#r()}#x(t,e){t&&(this.#i[t]=typeof e=="string"?e.trim():e)}#c(t){t===this.#w&&(this.#t="",this.#n="",this.#s=""),this.#r=t}#S(t,e){t&&(this.#E[t]=typeof e=="string"?e.trim():e)}#w(){k(this.#e)||(this.#e==="/"?(tt.includes(this.#h)&&this.#y(),this.#c(this.#F)):this.#e===">"?(this.#y(),this.#c(this.#C)):this.#e==="="?this.#c(this.#O):this.#t+=this.#e)}#O(){k(this.#e)||(this.#e==="'"||this.#e==='"'?(this.#s=this.#e,this.#c(this.#t==="style"?this.#L:this.#A)):(this.#s=" ",this.#n=this.#N(this.#n,this.#e),this.#c(this.#A)))}#A(){this.#e===">"&&this.#l!=="/"?(this.#s&&this.#t&&this.#n&&this.#x(this.#t,this.#n),this.#t="",this.#n="",this.#s="",this.#c(this.#C),this.#y()):this.#e===this.#s||this.#s===" "&&k(this.#e)?(this.#x(this.#t,this.#n),this.#c(this.#w)):this.#e instanceof Object?this.#n=this.#e:this.#n+=this.#e}#C(){k(this.#e)||(this.#e==="<"?(this.#h="",this.#i={},this.#c(this.#M)):(this.#l===" "?this.#g=this.#l+this.#e:this.#g=this.#e,this.#h="",this.#i={},this.#y(),this.#c(this.#_)))}#L(){k(this.#e)||(this.#e===">"?this.#c(this.#C):this.#e===this.#s||this.#s===" "&&k(this.#e)?this.#c(this.#w):this.#e===":"?this.#c(this.#D):this.#f+=this.#e)}#D(){this.#e===">"?this.#c(this.#C):this.#e===";"?(this.#S(this.#f,this.#u),this.#f="",this.#u="",this.#c(this.#L)):this.#e===this.#s?(this.#S(this.#f,this.#u),this.#f="",this.#u="",this.#c(this.#w)):this.#u=this.#N(this.#u,this.#e)}#M(){if(k(this.#e))this.#h!==""&&this.#c(this.#w);else if(this.#e==="/"&&tt.includes(this.#h))this.#o.tagName||(this.#o=this.#o.parent),this.#y(),this.#c(this.#F);else if(this.#e===">"){if(!this.#h)throw new Error("Expected tag name, found >");this.#o.tagName||(this.#o=this.#o.parent),this.#y(),this.#c(this.#C)}else this.#l==="<"&&this.#e==="/"?(this.#h,this.#d="",this.#c(this.#F)):this.#h+=this.#e}#F(){if(!k(this.#e))if(this.#e===">"){if(this.#o.tagName&&this.#o.tagName!=="-"&&!tt.includes(this.#o.tagName)&&this.#o.tagName!==this.#d)throw new Error(`Expected ${this.#o.tagName} tag to be closed, but ${this.#d} found`);this.#h="",this.#d="",this.#o.tagName?this.#o=this.#o.parent:this.#o=this.#o.parent.parent,this.#c(this.#C)}else this.#d+=this.#e}#_(){this.#e==="<"?(this.#i={},this.#o.attributes.textContent=this.#g,this.#c(this.#M)):(this.#g=this.#N(this.#g,this.#e),this.#o.tagName||(this.#o.attributes.textContent=this.#g))}}class Vt{#t=[];get translations(){return this.#t}translate(t){if(typeof t=="string"){const e=this.#n(t,this.#t);if(typeof e=="string")return e;const s=_t(),n=this.#n(t,s.paintorTranslations);if(typeof n=="string")return n}return t}translateArray(t){return this.translate(Et.apply(null,this.#s(t)))}useTranslations(...t){for(const e of t)if(e instanceof Array)for(const s of e)this.#t.includes(s)||(this.#t=[...this.#t,s]);else e instanceof Object&&(this.#t.includes(e)||(this.#t=[...this.#t,e]))}#s(t){if(this.#t.length===0)return t;const e=new Array(t.length);for(let s=0;s<t.length;s++)e[s]=this.translate(t[s]);return e}#n(t,e){if(e){for(const s of e)if(t in s)return s[t]}return!1}}const P=new WeakMap;class z{#t=[new Y];#s;#n;#i=!0;#e=null;#l=this;#a=[];#r;#f;constructor(t,e,s,n){this.#f=t,this.#n=t.document,this.#i=this.#n.baseURI==="",this.#s=e,this.#a=s,this.#r=n;for(const r of[...mt,"for","forEach","forState","html","if"])this[r]=this[r].bind(this)}static lastTemplateTreeToRender=null;createElement(t,...e){const s=t?this.#n.createElement(t):this.#n.createTextNode("");let n=[],r=0;for(const o of e)if(r+=1,typeof o=="string"){const c=this.#n.createTextNode(this.#r.translate(o));R(c,n)}else if(typeof o=="number"){const c=this.#n.createTextNode(o.toString());R(c,n)}else if(o instanceof this.#f.Node)R(o,n);else if(o instanceof Array){if(o.length===0)continue;let c=!1;for(const f of o)if(f instanceof this.#f.Node){c=!0;break}if(c)q(o,n);else{const f=this.#n.createTextNode(this.#r.translateArray(o));R(f,n)}}else if(o instanceof Error)s.textContent=this.#r.translate(o.message);else if(o instanceof A){const c=this.#i?o.useTranslations(this.#r.translations).getElementsSr():o.useTranslations(this.#r.translations).getElements(),{length:f}=c;if(f>0)for(const h of c[f-1]??[])R(h,n)}else if(o instanceof Function)if(o[D]){const{thisLevel:c,upperLevel:f}=this.#d();o(this.#l);const h=this.#t[c]?.getElements()??[];q(h,n),this.#u({thisLevel:c,upperLevel:f})}else if(this.#i)s.innerHTML=`(${o.toString()})()`;else if(s instanceof HTMLScriptElement){const c=this.#n.createTextNode(`(${o.toString()})()`);s.appendChild(c)}else if("value"in s&&!(s instanceof HTMLLIElement))this.#m(s,{value:o});else{const c=()=>{this.#S("nest",o,!0,(f,h,a,u)=>{if(f instanceof Function||f instanceof A){if(f instanceof A){const d=this.#i?f.useTranslations(this.#r.translations).getElementsSr():f.useTranslations(this.#r.translations).getElements();h?(R(a,n),q(d[0]??[],n),R(u,n)):this.#t[0]?.addElements(d[0]??[])}else if(D in f)if(f(this.#l),h){const d=this.#t.length-1,T=this.#t[d].getElements();R(a,n),q(T,n),R(u,n)}else n.length=0}else h&&a&&(this.#A(a),this.#m(s,{textContent:f}))})};this.#m(s,{textNode:o},c)}else o instanceof Object&&!(o instanceof Function)&&r===1&&this.#m(s,o);const l=this.#t.length-1;if(n.length>0){const o=this.#t[l].getElements(),c=o.indexOf(n[0]);c>-1&&n.length<o.length-c&&(n=o.slice(c))}return ht(s,n),this.#t[l].removeTheseElements(n),this.#t[l].addElement(s),s}for(t,e,s){const n=()=>{const r=$t(t,e,s);r instanceof Error&&console.error(r)};return this.#c(null,n)}forEach(t,e,s){return j(t)?this.#o(t,e,s):this.#T(t,e,s)}forState(t,e,s){const n=L(t);if(n){const r=n.parent;if(!j(r))throw new Error("The state must be a part of a state");const l=n.path.lastIndexOf("."),o=n.path.substring(l+1);return this.#o(r,(c,f)=>{if(f!==o)return;if(e[D])return e(this.#l);const h=e(c);return h instanceof Function?h(this.#l):h},s,o)}return this.#o(t,e,s)}getCreatedElements(){if(!this.#t[0])throw new Error("Missing data");return this.#t[0].getElements()}getHtmlCode(t){let e="";if(this.#i){const s=this.#s;s&&(e=s.paintChildren(t))}return e}html(t,...e){const s=e.length===0&&this.#r.translations.length===0?this.#N(t instanceof Array?t[0]??"":t):this.#b(t instanceof Array?t:[t],...e);for(const n of s)n.tagName===""&&(n.textContent=this.#r.translate(n.textContent));return s}if(t,e,s){const n=r=>{!!r?e&&this.#O(e):s&&this.#O(s)};return t instanceof Function?this.#S("if",t,!0,n):this.#c(t,n)}async render(){z.lastTemplateTreeToRender=this.#l,this.#t=[new Y];for(const t of this.#a)if(t instanceof Function){let e=t(this.#l);if(e instanceof Promise&&(e=await e),e&&typeof e=="string")this.html(e);else if(e instanceof A)this.#h(e,0);else if(e instanceof Function)e(this.#l);else if(e instanceof Array){let s=!0,n=!0;for(const r of e){if(!(r instanceof A)){s=!1;break}if(!(r instanceof Function)){n=!1;break}}if(s)for(const r of e){if(!(r instanceof A))break;this.#h(r,0)}else if(n)for(const r of e){if(!(r instanceof Function))break;r(this.#l)}}}else t instanceof A&&this.#h(t,0);this.#E()}#u({thisLevel:t,upperLevel:e}){const s=this.#t[t],n=this.#t[e];if(!(s instanceof Y)||!(n instanceof Y))throw new Error("Missing data");const r=s.getElements()??[];return n.importElements(s),s.replaceElements([]),delete this.#t[t],this.#t.pop(),r}#E(){const t=this.#s;t&&ht(t,this.getCreatedElements())}#h(t,e=-1){const s=this.#i?t.useTranslations(this.#r.translations).getElementsSr():t.useTranslations(this.#r.translations).getElements(),n=e<0?this.#t.length-1:e;for(const r of s)this.#t[n].addElements(r)}#d(){this.#t.push(new Y);const t=this.#t.length-1,e=t-1;return{thisLevel:t,upperLevel:e}}#g(t){return this.#r.translate(t)}#T(t,e,s){const n=r=>{at(this.#l,1,r,e,s,void 0,this.#g)};return t instanceof Function?this.#S("forEach",t,!0,n):this.#c(t,n)}#o(t,e,s,n){let r=null;if(!j(t))return new Error("The input object must be a state");const l=(o,c,f)=>{const h=[];let a=c.getElements().length;const u=(d,T=null)=>{T&&this.#O(T);const O=c.getElements(),x=a===0?O:O.slice(a);if(d===void 0){if(r)return;r=x}else if(r){for(const C of r)this.#A(C),C.remove();r=null}h.push({key:d,elements:x}),a=O.length};return at(this.#l,2,o,e,s,f,this.#g,u),h};return this.#w("reactive",t,l,s instanceof Function,n)}#N(t){let e=[];if(this.#i){const n=this.#n.createElement("");n.innerHTML=t??"",e=[n]}else{this.#e||(this.#e=this.#n.createElement("template"));const n=this.#e;n.innerHTML=t.trim()??"",e=Array.from(n.content.childNodes),n.innerHTML=""}const s=this.#t.length-1;return this.#t[s].addElements(e),e}#b(t,...e){return new zt(t,e).generate(this)}#y(t,e){if(!this.#s?.contains(t))return!1;let s=t;for(const n of e)Ut(n,s),s=n;return!0}#p(t,e,s){const n=P.get(t);if(!n)return;let r=n.length;for(;r>0;)if(r-=1,!!n[r]&&(e==="*"||n[r]?.key===e)){const l=n[r]?.elements;if(!l)continue;for(const o of l)P.get(o)&&this.#p(o,"*",!0),this.#A(o),o.remove();s?(n[r].elements.length=0,delete n[r]):P.set(t,Ht(n,r))}}#m(t,e,s){for(const n in e){let r=e[n];if(this.#i){if(bt(n)&&r instanceof Function){X(t,n,r);continue}}else if(r instanceof Function&&vt(t,n,r))continue;if(r instanceof Function){const l=r;V(t,n,"",l,null);let o=l(t);if(o instanceof Function&&Object.hasOwn(o,D)||o instanceof A){U(),s&&s();continue}else if(o instanceof Function)o=o();else if(n==="textNode"){U();const c=this.#n.createTextNode(o);t.appendChild(c),St(t,c,l,{propertyName:"textContent"});continue}U(),o instanceof Array?o=this.#r.translateArray(o):typeof o=="string"&&(o=this.#r.translate(o)),n&&X(t,n,o)}else t instanceof this.#f.HTMLElement&&n==="style"&&r instanceof Object?this.#x(t,r):t instanceof this.#f.HTMLElement&&n==="data"?r instanceof Object&&Yt(t,r):n==="textContent"?r instanceof Array?t[n]=this.#r.translateArray(r):t[n]=this.#r.translate(r):((n==="innerText"||n==="value"&&t.tagName==="INPUT"&&(t.getAttribute("type")??"").toLowerCase()==="button")&&(r=this.#r.translate(r)),X(t,n,r))}}#x(t,e){for(const s in e){const n=e[s];let r="";if(n instanceof Function){const l="style",o=n;V(t,l,s,o,null),r=o(t),U()}else r=n;typeof s=="string"&&(t.style[s]=yt(s,r))}}#c(t,e){const{thisLevel:s,upperLevel:n}=this.#d();return e(t),this.#u({thisLevel:s,upperLevel:n})}#S(t,e,s,n){const{thisLevel:r,upperLevel:l}=this.#d();if(e instanceof Function){const c=this.#n.createComment(`${t}-begin`),f=this.#n.createComment(`${t}-end`);s&&this.#t[r].addElement(c);const h=T=>{if(this.#i)return;const O=this.#t.length-1;this.#t[O].removeAllElements(),n(T,!1,null,null),this.#y(c,this.#t[O].getElements())||console.error("Element ",c," does not exist anymore")},a=c,u=`--${t}`;V(a,u,"",e,h);const d=e();U(),n(d,!0,c,f),s&&this.#t[r].addElement(f)}else n(e,!1,null,null);return this.#u({thisLevel:r,upperLevel:l})}#w(t,e,s,n,r){const{thisLevel:l,upperLevel:o}=this.#d(),c=this.#n.createComment(`${t}-begin`),f=this.#n.createComment(`${t}-end`),h=this.#t[l];if(!h)throw new Error(`There are no collected elements at level ${l}`);h.addElement(c);const a=(x,C,M,_)=>{if(r!==void 0&&r!==_)return;let G=!1;c.parentElement&&(this.#t.push(new Y),G=!0);const b=this.#t.length-1,m=s(x,this.#t[b],_),p=C instanceof Array;for(const g of m){if(_!==void 0){const y=P.get(f);y&&(p?y[_]=g:y.push(g))}for(const y of g.elements)b===0&&this.#t.length>b&&this.#t[b].moveElementAfterAnother(y,M),M.after(y),M=y}G&&this.#t.pop()},u=(x,C,M,_)=>{const G=L(C);if(!G)throw new Error("Missing meta data");const b=G.target;if(b instanceof Object&&!this.#i){if(x===E.CREATE){let m=null;const p=b instanceof Map||b instanceof Set?b.keys():Object.keys(b);for(const y of p){if(y===M)break;m=y}let g=c;if(m!==null){const y=P.get(f);if(y){for(const F of y)if(F&&F.key===m){const{elements:v}=F;g=v.length>0?v[v.length-1]:g;break}}}a(b,b,g,M)}else if(x===E.DELETE){const m=b instanceof Array;this.#p(f,M,m)}else if(x===E.UPDATE)u(E.DELETE,C,M,void 0),u(E.CREATE,C,M,void 0);else if(x===E.ARRAY_SPLICE){if(b instanceof Array){const m=P.get(f);if(m instanceof Array){let[p,g,...y]=_;if(p=parseInt(p),g=parseInt(g),g===1/0?g=b.length-p:g<0&&(g=0),g>0)for(let N=p,W=p+g;N<W;N++)u(E.DELETE,C,N.toString(),void 0),delete m[N];const F=m.length,v=b.length,Z=v-F;if(Z>0){m.length=v;for(let N=v-1;N>=p+y.length;N--){const W=N-Z;if(W<0)break;m[N]=m[W],m[N].key=N.toString(),delete m[W]}}else if(Z<0){m.splice(p,g);for(let N=v-1;N>=p+y.length;N--)m[N].key=N.toString()}if(y.length>0)for(let N=p;N<p+y.length;N++)u(E.CREATE,C,N.toString(),void 0);m.length=b.length}}}else if(x===E.ARRAY_SWAP){let[m,p]=_;m=parseInt(m),p=parseInt(p);const g=P.get(f);if(g instanceof Array){const y=g[p].elements;g[p].elements=g[m].elements,g[m].elements=y;for(let F=1;F<g.length;F++)Wt(...g[F-1].elements,...g[F].elements)}}else if(x===E.ARRAY_COPY_WITHIN){let[m,p,g]=_;p=parseInt(p),g=parseInt(g);for(let y=p,F=m;y<g;y++,F++)u(E.DELETE,C,F.toString(),void 0),u(E.CREATE,C,F.toString(),void 0)}else if(x===E.ARRAY_SORT){if(b instanceof Array)for(let m=0,p=b.length;m<p;m++)u(E.DELETE,C,m.toString(),void 0),u(E.CREATE,C,m.toString(),void 0)}else if(x===E.ARRAY_LENGTH){let m=_?.[0]??0;m=parseInt(m);const p=P.get(f);if(p instanceof Array){if(m<p.length){let g=p.length;for(;g>0&&(g-=1,!(g<m));)p[g]!==void 0&&u(E.DELETE,C,g.toString(),void 0)}b instanceof Array&&(p.length=b.length)}}n&&(!(b instanceof Array)||M==="")&&Bt(b)===0&&a(C,b,c,void 0)}},d=`-s-${t}`;V(f,d,"",()=>e,u);const O=s(e,h);return O.length===1&&O[0]?.key===void 0&&O.splice(0,1),P.set(f,O),U(),h.addElement(f),this.#u({thisLevel:l,upperLevel:o})}#O(t){if(t instanceof A){this.#h(t);return}if(t instanceof Function&&t[D]){t(this.#l);return}if(t instanceof Function){const e=t(this.#l);(e instanceof A||e instanceof Function)&&this.#O(e)}}#A(t){et(t);let e=t.childNodes.length;for(;e>0;)e-=1,this.#A(t.childNodes[e])}}function qt(...i){const t=this;return function(...s){return t.call(this,...i,...s)}}const{prototype:it}=z;Object.assign(it.createElement,{bindArgs:qt});mt.forEach(i=>{it[i]=it.createElement.bindArgs(i)});const Kt=Object.freeze(["async","autofocus","autoplay","checked","contenteditable","controls","default","defer","disabled","formNoValidate","frameborder","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","scoped","selected","typemustmatch"]),Xt=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]),w=Object.freeze({ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11});class J extends Error{constructor(t,e){super(t),this.name=e??"DOMException"}}class I{nextSibling=null;previousSibling=null;textContent="";#t=[];#s="";#n=1;#i=null;constructor(t,e){this.#n=t,this.#s=e}get baseURI(){return""}get childNodes(){return this.#t}get firstChild(){return this.#t[0]??null}get nodeName(){return this.#s}get nodeType(){return this.#n}get parentNode(){return this.#i}set parentNode(t){this.#i=t}appendChild(t){if(this.nodeType!==w.DOCUMENT_NODE&&this.nodeType!==w.DOCUMENT_FRAGMENT_NODE&&this.nodeType!==w.ELEMENT_NODE)throw new J("This node type does not support this method.");if(this.nodeType===w.DOCUMENT_NODE)throw new J("Failed to execute 'appendChild' on 'Node': Only one element on document allowed.");if(!(t instanceof I)){const s="Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.";throw new TypeError(s)}if(this.#t.includes(t))return;if(t===this)throw new J("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");this.#t.push(t),t.parentNode=this;const e=this.#t.length-2;e>=0&&(this.#t[e].nextSibling=t,t.previousSibling=this.#t[e]??null)}contains(){return!1}insertBefore(t,e){const s=[];for(const n of this.#t)n===e&&s.push(t),s.push(n);return this.#t=s,t}removeChild(t){if(!t)throw new Error("Failed to execute 'removeChild' on 'HTMLElement': parameter 1 is not of type 'HTMLElement'.");if(!this.#t.includes(t))throw new Error("Failed to execute 'removeChild' on 'HTMLElement': The node to be removed is not a child of this node.");return this.#t=this.#t.filter(e=>e!==t),t}paintChildren({indent:t=""}){let e="",s=0;for(const n of this.childNodes){s+=1;const r=s>1;e+=Nt(n,t,"",r)}return e}}class lt extends I{constructor(){super(w.COMMENT_NODE,"#comment")}}class ct extends I{constructor(){super(w.TEXT_NODE,"#text")}}function Tt(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,s=>{let n=s;return s in e&&(n=e[s]??""),n}),t}function Jt(i){let t="";for(const e of i){const{name:s}=e;let{value:n}=e;Kt.includes(s)?n!==!1&&n!==0&&n!==void 0&&n!==null&&(t+=` ${s}`):(n instanceof Array?n=n.join(","):n===!0?n="true":n===!1?n="false":n===void 0?n="undefined":n===null?n="null":n instanceof Function?n=`return(${n.toString()}).call(this,window.event)`:n=n.toString(),n=n.replace(/"/ug,'\\"'),n=Tt(n),t+=` ${s}="${n}"`)}return t}function Qt(i){let t="";return t=i.replace(/([A-Z])/ug,(e,s)=>`-${s.toLowerCase()}`),t}function Zt(i){let t="";for(const e in i){const s=i[e];t+=`${Qt(e)}:${s};`}return t.trim()}function Nt(i,t,e,s=!1){let n="",r="",l="";if(t&&(r=e,l=`
`),i instanceof lt)n+=`${l}${r}<!--${i.textContent}-->`;else if(i instanceof ct)n+=`${l}${r}${i.textContent}`;else if(i instanceof B){const o=Xt.includes(i.tagName),c=Jt(i.attributes);let f="";Object.keys(i.style).length>0&&(f=` style="${Zt(i.style)}"`),s&&(n+=l),n+=r,i.tagName&&(n+=`<${i.tagName.toLowerCase()}${c}${f}`,n+=o?"":">"),n+=i.textContent;let h="";for(const a of i.childNodes)h+=Nt(a,t,e+t,!0);h&&(n+=h+l+r),i.tagName!==""&&(n+=o?"/>":`</${i.tagName.toLowerCase()}>`)}return n}class Q extends I{#t=[];#s="";constructor(t,e){super(t,e.toUpperCase()),this.#s=e.toUpperCase()}get attributes(){return this.#t}get children(){return this.childNodes.filter(t=>t instanceof Q)}get className(){let t="";for(const e of this.#t)if(e.name==="class"){t=e.value;break}return t}set className(t){this.setAttribute("class",t)}get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}get tagName(){return this.#s}append(t){t instanceof I?this.appendChild(t):this.textContent=Tt(t.toString())}getAttribute(t){let e="";if(e=t.trim().toLowerCase(),!e)return null;const s=this.#t.findIndex(n=>n.name===e);return s===-1?null:this.#t[s]?.value??null}remove(){this.parentNode?.removeChild(this)}setAttribute(t,e){let s="";if(s=t.trim().toLowerCase(),!s)return;const n=e,r=this.#t.findIndex(l=>l.name===s);r===-1?this.#t.push({name:s,value:n}):this.#t[r]={name:s,value:n}}}function te(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,s=>{let n=s;return s in e&&(n=e[s]??""),n}),t}function ee(i){const t=i.split("-");if(t.length===1)return t[0];const e=t.slice(1).map(s=>(s[0]??"").toUpperCase()+s.slice(1)).join("");return t[0]+e}function ne(i){const t={};return i.split(";").forEach(e=>{const[s,n]=e.split(":");if(!s)return;const r=ee(s.trim());t[r]=(n??"").trim()}),t}let B=class extends Q{#t={};constructor(t){super(w.ELEMENT_NODE,t)}get innerText(){return this.textContent}set innerText(t){this.textContent=te(t.toString())}get style(){return this.#t}set style(t){if(typeof t=="string"){const e=ne(t);for(const s in e)this.#t[s]=(e[s]??"").toString()}}},wt=class extends I{constructor(){super(w.DOCUMENT_FRAGMENT_NODE,"#document-fragment")}};class se extends I{ELEMENT_NODE=w.ELEMENT_NODE;ATTRIBUTE_NODE=w.ATTRIBUTE_NODE;TEXT_NODE=w.TEXT_NODE;CDATA_SECTION_NODE=w.CDATA_SECTION_NODE;PROCESSING_INSTRUCTION_NODE=w.PROCESSING_INSTRUCTION_NODE;COMMENT_NODE=w.COMMENT_NODE;DOCUMENT_NODE=w.DOCUMENT_NODE;DOCUMENT_TYPE_NODE=w.DOCUMENT_TYPE_NODE;DOCUMENT_FRAGMENT_NODE=w.DOCUMENT_FRAGMENT_NODE;#t;#s=[];constructor(){super(w.DOCUMENT_NODE,"#document");const t=new B("html"),e=new B("head"),s=new B("body");t.appendChild(e),t.appendChild(s),this.#s.push(t),this.#t=s}get body(){return this.#t}get children(){return this.#s}get parentElement(){return null}createDocumentFragment(){return new wt}createComment(t=""){const e=new lt;return e.textContent=t,e}createElement(t){return new B(t)}createTextNode(t){const e=new ct;return e.textContent=t,e}}class ie{Comment=lt;DocumentFragment=wt;Element=Q;HTMLElement=B;Node=I;Text=ct;DOMException=J;Error=Error;TypeError=TypeError;document;constructor(){this.document=new se}}const re=H(),oe=new ie;class A{state=null;#t=[];#s=[];#n="";#i=!1;#e=!1;#l="";#a="";#r=new Map;#f=new Map;#u=[];#E=new Vt;#h=!1;clear(){for(const t of this.#s)for(const e of t)et(e),e.remove();this.#s.length=0,this.#n="",this.#r.clear(),this.#f.clear()}getElements(){return this.#i?this.#T(null):(this.#p(null,window,!0),this.#s)}getElementsSr(){if(this.#i)return this.#T("");const t=this.#o();return this.#p("",t,!0),this.#s}html(t){if(this.#i)return this.staticHtml(t);const e=this.#o();return this.#p("",e,!0,t),this.#n}paint(t){if(!re)throw new Error("You can only use this function in browser environment");if(!t)throw new Error("No container selected.");if(typeof t!="string"&&!(t instanceof HTMLElement)&&!(t instanceof NodeList)&&!(t instanceof Array)&&!(t instanceof HTMLCollection))throw new Error(`Wrong type for the container element. Expected <string> or <Node>, got <${typeof t}>`);this.#p(t,window,!0)}static(t=!0){return this.#i=t,this}staticHtml(t){const e=this.#E.translations[0]??null;if(!this.#f.has(e)){const s=this.#o();this.#p("",s,!0,t),this.#f.set(e,this.#n)}return this.#f.get(e)??""}template(t){}useTemplates(...t){if(t instanceof Array)for(const e of t)if(e instanceof Array)for(const s of e)this.#u.push(s);else this.#u.push(e);return this}useTranslations(...t){return this.#E.useTranslations(...t),this}#d(){if(this.#t)for(const t of this.#t)for(;t?.firstChild;)t.removeChild(t.firstChild)}#g(t){let e=-1,s=-1;for(const n of this.#t)s+=1,t===n&&(e=s);if(e!==-1){delete this.#t[e];for(const n of this.#s[e]??[])et(n),n.remove();delete this.#s[e],this.#n="";for(const[n,r]of this.#r)delete r[e];this.#f.clear()}}#T(t){const e=this.#E.translations[0]??null;if(!this.#r.has(e)){const s=this.#o();this.#p(t,s,!0),this.#r.set(e,this.#s)}return this.#r.get(e)??[]}#o(){return oe}#N(t,e,s){this.#h||(this.#h=!0,this.#s.length=0,this.#n="",this.#b(t,e),this.#y(s))}#b(t,e){const s=e.document.baseURI==="";if(typeof t=="string")if(this.#l=t,this.#e=!1,Rt(t))this.#e=!0;else{Pt(t)||(this.#a=t);const n=s?[e.document.createElement("#container")]:e.document.querySelectorAll(t);if(this.#t=Array.from(n),!this.#t)throw new Error(`Could not find an element by the following query: ${t}`)}else if(t instanceof HTMLElement)this.#t=[t];else if(t instanceof NodeList||t instanceof HTMLCollection)this.#t=Array.from(t);else if(t instanceof Array){for(const n of t)if(!(n instanceof HTMLElement))throw new Error("All elements in the input array must be DOM elements");this.#t=t}return!0}#y(t){this.template instanceof Function&&(this.state=this.state?pt(this.state):this.state,this.#u.push(this.template.bind(this)));for(const e of t)if(!(e instanceof Function)&&!(e instanceof A))throw new Error("The template must be a function");return!0}#p(t,e,s=!0,n={}){this.#N(t,e,this.#u),s&&this.#d();const r=this.#u;if(!e)throw new Error("Missing window element");if(this.#e){if(customElements.get(this.#l)){const o=document.getElementsByTagName(this.#l);for(const c of o)this.#m(e,c.shadowRoot,r,n);return}const l=o=>class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){if(!this.shadowRoot)throw new Error("Missing shadow root");o.#m(e,this.shadowRoot,r,n)}disconnectedCallback(){o.clear()}};customElements.define(this.#l,l(this))}else if(this.#a&&new MutationObserver(o=>{for(const c of o){const{addedNodes:f,removedNodes:h}=c;for(const a of f)a instanceof HTMLElement&&a.matches(this.#a)&&this.#m(e,a,r,n);for(const a of h)this.#g(a)}}).observe(document.body,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),this.#t.length===0)this.#m(e,null,r,n);else for(const l of this.#t)this.#m(e,l,r,n)}#m(t,e,s,n={}){const r=new z(t,e,s,this.#E);r.render(),this.#n=r.getHtmlCode(n),this.#s.push(r.getCreatedElements())}}const le="modulepreload",ce=function(i){return"/"+i},ut={},dt=function(t,e,s){let n=Promise.resolve();if(e&&e.length>0){const r=document.getElementsByTagName("link");n=Promise.all(e.map(l=>{if(l=ce(l),l in ut)return;ut[l]=!0;const o=l.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(!!s)for(let a=r.length-1;a>=0;a--){const u=r[a];if(u.href===l&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${c}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":le,o||(h.as="script",h.crossOrigin=""),h.href=l,document.head.appendChild(h),o)return new Promise((a,u)=>{h.addEventListener("load",a),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${l}`)))})}))}return n.then(()=>t()).catch(r=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r})},fe=function(){let i="en";return H()&&(i=document.getElementById("html")?.getAttribute("lang")??i),i},he=async function(i,t){if(typeof i!="string")throw new Error("Translation path must be a string");let e=null;const s=i.match(/^(.*?)([^.\/\\]+)(.\w+)$/um);if(s===null)throw new TypeError(`Incorrect path: ${i}`);const n=s[1]+t+s[3];try{e=(await dt(()=>import(n),__vite__mapDeps([]))).default}catch{n!==i&&(e=(await dt(()=>import(i),__vite__mapDeps([]))).default)}if(!(e instanceof Object))throw new TypeError(`Translation at ${n} must export an object`);return e},ae=async function(...i){const t=fe(),e=[];for(const s of i)e.push(he(s,t));return Promise.all(e)};function ue(...i){return new A().useTemplates(...i)}function de(i){return i[D]=!0,i}function me(i){return i instanceof A}function ge(i){return i instanceof Function&&D in i}const be={component:ue,fetchTranslations:ae,isComponent:me,isState:j,isTemplate:ge,setState:Dt,state:pt,template:de,Component:A};export{A as Component,ue as component,be as default,ae as fetchTranslations,me as isComponent,j as isState,ge as isTemplate,be as paintor,Dt as setState,pt as state,de as template};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=bundle.js.map
