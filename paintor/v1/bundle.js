const E=Object.freeze({CREATE:1,READ:2,UPDATE:3,DELETE:4,ARRAY_SPLICE:5,ARRAY_SWAP:6,ARRAY_COPY_WITHIN:7,ARRAY_SORT:8,ARRAY_PUSH:9,ARRAY_LENGTH:10}),yt=Object.freeze(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"]),S=Symbol("Subscriptions"),V=Symbol("Access"),_=Symbol("TemplateFunction"),O={element:null,propertyName:"",subPropertyName:"",bindFunction:null,repaintFunction:null};function W(i,t,e,n,s){O.element=i,O.propertyName=t,O.subPropertyName=e,O.bindFunction=n,O.repaintFunction=s}function $(){O.element=null,O.propertyName="",O.subPropertyName="",O.bindFunction=null,O.repaintFunction=null}class Tt{#t={receiver:[],target:[],callback:()=>{}};callArrayFn(t,e,n,s){switch(this.#t.target=e,this.#t.receiver=n,this.#t.callback=s,t){case"push":return this.#o;case"copyWithin":return this.#n;case"reverse":return this.#e;case"shift":return this.#l;case"sort":return this.#f;case"splice":return this.#i;case"unshift":return this.#h;case"forEach":return this.#s;default:return e[t]}}#n=(...t)=>{const{target:e,receiver:n}=this.#t;let[s,r,c]=t;const{length:o}=e;if(s<0)s+=o;else if(s<-o)s=0;else{if(s>=o)return;s>r&&(c=o-1)}if(r<0)r+=o;else if(r<-o||r===void 0)r=0;else if(r>=o)return;if(c<0)c+=o;else if(c<-o)c=0;else if(c>=o||c===void 0)c=o;else if(c<=r)return;const a=e.copyWithin.apply(e,[s,r,c]);return this.#t.callback(E.ARRAY_COPY_WITHIN,n,[s,r,c]),a};#s=(t,e)=>{const{target:n,receiver:s}=this.#t;G.lastTemplateTreeToRender?.forEach(s,(c,o)=>{t.apply(e,[c,o,n])})};#o=(...t)=>{const{target:e,receiver:n}=this.#t,s=e.length;let r=s-1;for(const c of t)r+=1,n[r]=c;return this.#c(n,s),r};#e=()=>{const{target:t,receiver:e}=this.#t,n=t.reverse.apply(t);for(let s=0,r=t.length;s<r;s++){const c=r-1-s;if(s>=c)break;this.#t.callback(E.ARRAY_SWAP,e,[s,c])}return n};#l=()=>{const{target:t,receiver:e}=this.#t,n=t.length,s=t.shift.apply(t);return this.#t.callback(E.ARRAY_SPLICE,e,[0,1]),this.#c(e,n),s};#f=(...t)=>{const{target:e,receiver:n}=this.#t,s=e.sort.apply(e,t);return this.#t.callback(E.ARRAY_SORT,n,t),s};#i=(...t)=>{const{target:e,receiver:n}=this.#t,s=e.length,r=e.splice.apply(e,t);return this.#t.callback(E.ARRAY_SPLICE,n,t),this.#c(n,s),r};#h=(...t)=>{const{target:e,receiver:n}=this.#t,s=e.length,r=e.unshift.apply(e,t);return this.#t.callback(E.ARRAY_SPLICE,n,[0,0,...t]),this.#c(n,s),r};#c(t,e){const n=t.length;e!==n&&(t.length=t.length)}}class Nt{#t=new Map;get subscriptions(){return this.#t}subscribe(t,e,n,s,r,c,o){(s==="-s-if"||s==="-s-forEach"||s==="-s-reactive")&&(e=s),this.#t.has(e)||this.#t.set(e,new Map);const a=this.#t.get(e)??new Map;a.has(n)||a.set(n,[]);const l=a.get(n);for(const u of l)if(u.propertyName===s&&u.subPropertyName===r&&u.bindFunction===c&&u.repaintFunction===o)return;const h=this,f=ft(t);if(f)for(const u of f){const m=L(u)?.path??"",g={propertyName:s,subPropertyName:r,bindFunction:c,repaintFunction:o,stateSubscription:h,statePath:m};l.push(g),n[S]??=[],n[S].push(g)}}unsubscribe(t){if(S in t&&t[S]instanceof Array){const e=t[S];let n=e.length;for(;n>0;)n-=1,e[n].stateSubscription===this&&e.splice(n,1)}for(const[e,n]of this.#t)n.delete(t)}}function wt(i){return Object.hasOwn(i,S)}function At(i,t,e,n){if(S in i&&i[S]instanceof Array){let s=i[S].length;for(;s>0;){s-=1;const r=i[S][s];if(e===void 0||e===r.bindFunction){if(n)for(const c in n)r[c]=n[c];t[S]??=[],t[S].push(r),i[S].splice(s,1)}}}}function Z(i){const t=i[S];if(t===void 0)return;let e=t.length;for(;e>0;)e-=1,t[e]&&t[e].stateSubscription.unsubscribe(i);delete i[S]}class Ot{#t;#n;constructor(){this.#t=new Tt,this.#n=new Nt}createProxy(t,e,n=null){if(!(t instanceof Object))throw new Error("Cannot create a Proxy on non-object");if(k(t)||t instanceof Date)return t;const s=this.#s(),r=new Proxy(t,s);t instanceof Object&&(et(r)||Ct(r,{target:t,path:e,parent:n}));for(const c in t)if(t[c]instanceof Object){if(et(r[c]))continue;const o=e===""?c:`${e}.${c}`;r[c]=this.createProxy(t[c],o,r)}else r[c]=t[c];return r}#s(){return{get:(e,n,s)=>{const r=L(e);if(r&&(e=r.target),Object.hasOwn(e,n)||n===V)O.element&&O.bindFunction&&this.#n.subscribe(e,n,O.element,O.propertyName,O.subPropertyName,O.bindFunction,O.repaintFunction);else if((e instanceof Map||e instanceof Set)&&e[n]instanceof Function){const c=e[n];return(...a)=>{const l=c.apply(e,a);return e instanceof Set?n==="add"?this.#l(n,s):n==="delete"&&this.#i(n,s):e instanceof Map&&(n==="set"?this.#l(n,s):n==="delete"&&this.#i(n,s)),l}}else if(e instanceof Array&&e[n]instanceof Function&&typeof n=="string")return this.#t.callArrayFn(n,e,s,this.#e);return e[n]},set:(e,n,s,r)=>{if(e instanceof Array&&n==="length")e[n]=s,this.#e(E.ARRAY_LENGTH,r,[s]),this.#c(n,r),this.#h(n);else if(Object.hasOwn(e,n))if(s instanceof Object&&!(s instanceof Date)&&!k(s)){let c=typeof n=="string"?n:"";const o=L(r);if(o&&o.path!==""&&(c=o.path+"."+c),e[n]instanceof Object&&s instanceof Object){for(const l in s)s[l]instanceof Array&&e[n][l]instanceof Array&&e[n][l].length!==s[l].length?e[n][l].length=s[l].length:s[l]instanceof Object&&e[n][l]instanceof Object&&this.#i(n,r);for(const l in e[n])l in s||this.#i(l,r[n])}const a=k(r)?r:null;e[n]=this.createProxy(s,c,a),this.#c(n,r)}else s instanceof Object&&!(s instanceof Date)&&k(s)?(e[n]=s,this.#c(n,r),this.#h(n)):(e[n]=s,this.#c(n,r),this.#h(n));else{if(s instanceof Object&&!k(s)){let c=typeof n=="string"?n:"";const o=L(r);o&&o.path!==""&&(c=o.path+"."+c),e[n]=this.createProxy(s,c,r)}else e[n]=s;this.#l(n,r)}return!0},deleteProperty:(e,n)=>{delete e[n];const s=ft(e);if(s)for(const r of s)this.#i(n,r);return!0}}}#o(t,e){const n=L(t);if(!n)throw new Error("Missing meta data");const{repaintFunction:s,statePath:r}=e;return n.path!==r||!s?null:s}#e=(t,e,n)=>{const s=this.#n.subscriptions.get("-s-reactive");if(s)for(const[r,c]of s)for(let o=0,a=c.length;o<a;o++){const l=this.#o(e,c[o]);l&&l(t,e,"",n)}};#l(t,e){this.#f(E.CREATE,t,e)}#f(t,e,n){const s=this.#n.subscriptions.get("-s-reactive");if(s)for(const[r,c]of s)for(let o=0,a=c.length;o<a;o++){const l=this.#o(n,c[o]);l&&l(t,n,e)}}#i(t,e){this.#f(E.DELETE,t,e)}#h(t){if(this.#n.subscriptions.has(t)){const e=this.#n.subscriptions.get(t);if(e)for(const[n,s]of e)for(const r of s){const{propertyName:c,subPropertyName:o,bindFunction:a,repaintFunction:l}=r;if(Object.hasOwn(n,"--deleted")){this.#n.unsubscribe(n);return}let h=a.call(n,n);c==="style"&&o?n.style[o]=pt(o,h):c==="--if"||c==="--for"||c==="--nest"?l&&l(h):(h instanceof Function&&(h=h()),q(n,c,h))}}}#c(t,e){if(!L(e))throw new Error("Missing meta data");const s=this.#n.subscriptions.get("-s-reactive");if(s)for(const[r,c]of s)for(let o=0,a=c.length;o<a;o++){const l=this.#o(e,c[o]);l&&l(E.UPDATE,e,t)}}}const st=new WeakMap,tt=new WeakMap,L=function(i){return st.get(i)},et=function(i){return st.has(i)},Ct=function(i,t){st.set(i,t);const e=tt.get(t.target)??[];e.includes(i)||e.push(i),tt.set(t.target,e)},ft=function(i){return tt.get(i)},k=function(i){return i instanceof Object&&et(i)};function St(i,t){const e=L(i);if(!e)throw new Error("The first argument in setState() must be a state object");if(!(t instanceof Object))throw new Error("The new state in setState() must be Object or Array");const n=e.parent;n&&(n[e.path]=t)}const ut=function(t){if(!(t instanceof Object))throw new Error("state() only accepts Object or Array");const e=L(t);e&&(t=e.target);const n=new Ot,s="",r={"":t};return n.createProxy(r,"",null)[s]};function Mt(){return typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||this}function dt(i,...t){const e=/(%?)(%([ojdsif]))/ug;if(i=i??"",t.length>0){const n=(s,r,c,o)=>{const a=t.shift();let l="";switch(o){case"o":Array.isArray(a)&&(l=JSON.stringify(a));break;case"s":l=String(a);break;case"d":l=String(Number(a));break;case"j":l=JSON.stringify(a);break;case"i":l=String(parseInt(String(a),10));break;case"f":l=String(parseFloat(String(a)));break}return r?(t.unshift(l),s):l};i=i.replace(e,n)}return t.length>0&&(i+=` ${t.join(" ")}`),i=i.replace(/%{2,2}/ug,"%"),String(i)}function j(){if(j.isIt===void 0){const i=new Function("try {return this===window;}catch(e){ return false;}");j.isIt=i()}return j.isIt??!1}j.isIt=void 0;function P(i,t){t.push(i)}function z(i,t){for(const e of i)t.push(e)}function mt(i){return i.toLowerCase().indexOf("on")===0}function v(i){return i===" "||i==="	"||i==="\r"||i===`
`}function xt(i){return/^[a-z][a-z0-9-]+$/u.test(i)&&i.includes("-")}function Ft(i){return/#[a-z0-9-]+\s*$/u.test(i)}function Lt(i){if(i==="true")return!0;if(i==="false")return!1;const t=parseInt(i);return isNaN(t)?!!i:!!t}function Dt(i,t,e){if(!(i instanceof window.Node)||typeof t!="string"||typeof e!="function"||mt(t)===!1)return!1;const n=t.toLowerCase().substring(2);return i.addEventListener(n,e),!0}function _t(i,t){if(t.length===1)i.appendChild(t[0]);else if(t.length>1){const e=new DocumentFragment;for(const n of t)n&&e.append(n);i.appendChild(e)}}function Rt(i,t){for(const e of t)e&&i.appendChild(e)}function lt(i,t){i&&(j()&&i instanceof window.Node?_t(i,t):Rt(i,t))}function ct(i,t,e,n,s,r,c,o){if(!(n instanceof Function))throw new TypeError('"handler" argument should be a Function');const a=L(e),l=a?a.target:e,h=t===2&&a;if(l instanceof Array){h&&e[V],r===void 0&&l.length===0&&s instanceof Function&&(s(),o?.(void 0));for(const f in l){if(r!==void 0&&r!==f)continue;let u=h&&l[f]instanceof Object?e[f]:l[f];c&&(u=c?.call(i,u));let m=n(u,f),g=null;if(m instanceof A&&(g=m),m instanceof Function&&m[_]&&(m=m(i)),o?.(f,g),m===!1)break}}else if(l instanceof Map||l instanceof Set){h&&e[V],r===void 0&&l.size===0&&s instanceof Function&&(s(),o?.(void 0));for(const[f,u]of l.entries()){if(r!==void 0&&r!==f)continue;let m=u;c&&(m=c?.call(i,m));let g=n(m,f),M=null;if(g instanceof A?M=g:g instanceof Function&&g[_]&&(g=g(i)),o?.(f,M),g===!1)break}}else if(l instanceof Object){h&&e[V],r===void 0&&Object.keys(l).length===0&&s instanceof Function&&(s(),o?.(void 0));for(const f in l){if(r!==void 0&&r!==f)continue;let u=h&&l[f]instanceof Object?e[f]:l[f];c&&(u=c?.call(i,u));let m=n(u,f),g=null;if(m instanceof A?g=m:m instanceof Function&&m[_]&&(m=m(i)),o?.(f,g),m===!1)break}}else throw new TypeError(`The state argument should be an Object or an Array, but instead it is ${l}`);return!0}function Pt(i,t,e){if(typeof i!="number"||typeof t!="number")return new Error('"start" and "end" arguments should be numbers');if(!(e instanceof Function))return new Error('"handler" argument should be a Function');if(t>=i)for(let n=i;n<=t&&e(n)!==!1;n++);else for(let n=i;n>=t&&e(n)!==!1;n--);return!0}function kt(i,t){return i.splice(t,1),i}function It(i,t){if(!t)return;const{nextSibling:e,parentNode:n}=t;n&&n.insertBefore(i,e)}function vt(i,t){if(t instanceof Object)for(const e in t){const n=(t[e]??"").toString();i.setAttribute(`data-${e}`,n)}}function q(i,t,e){t in i?e instanceof Array?i[t]=dt.apply(null,e):i[t]=e??"":"setAttribute"in i&&i.setAttribute(t,e)}function pt(i,t){let e=t;return(i==="visibility"||i==="backfaceVisibility")&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?"visible":"hidden"),i==="display"&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?"":"none"),i==="flex"&&(t===!0||t===!1||t===void 0||t===null)&&(e=t?1:0),e}function jt(i){return i instanceof Array?i.length:i instanceof Map||i instanceof Set?i.size:i instanceof Object?Object.keys(i).length:0}function $t(i,t,e){if(e>=i.length){let n=e-i.length+1;for(;n>0;)n-=1,i.push(void 0)}return i.splice(e,0,i.splice(t,1)[0]),i}const Ht=(...i)=>{for(let t=1;t<i.length;t++)i[t-1].after(i[t])};class H{elements=[];addElement(t){t&&this.elements.push(t)}addElements(t){for(const e of t)this.elements.push(e)}getElements(){return this.elements}hasElement(t){return this.elements.indexOf(t)>-1}importElements(t){const e=t.getElements();for(const n of e)this.addElement(n)}moveElementAfterAnother(t,e){const n=this.elements.indexOf(t),s=this.elements.indexOf(e);if(n===-1||s===-1)throw new Error("Cannot move one element after another, because one element is missing");s-n!==1&&(this.elements=$t(this.elements,n,s+1))}removeAllElements(){this.elements.length=0}removeTheseElements(t){let e=t.length;for(;e>0;){e-=1;let n=this.elements.length;for(;n>0;)if(n-=1,t[e]===this.elements[n]){this.elements.splice(n,1);continue}}}replaceElements(t){this.elements=t}}class it{tagName="-";parent=this;children=[];attributes={};newChild(t,e){const n=new it;return n.parent=t,n.attributes=e,this.children.push(n),n}}const Q=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]);class Ut{#t="";#n="";#s="";#o={};#e;#l;#f=[];#i=this.#O;#h="";#c="";#g={};#u="";#d="";#p="";#T=new it;#r=this.#T;constructor(t,e){this.#f=this.#E(t,e),this.#m()}generate(t){if(this.#u||this.#d)throw new Error("Some HTML tag is not closed");return this.#b(t,this.#T)}#N(t,e){return typeof t=="function"?typeof e=="function"?e:t:typeof t=="string"&&(typeof e=="string"||typeof e=="number"||typeof e=="boolean")?t+e.toString():e}#b(t,e){const n=[];for(const s of e.children){let r=null;s.tagName==="if"?r=t.if(Lt(s.attributes.condition??""),()=>{this.#b(t,s)}):s.tagName==="for"?"iterations"in s.attributes?r=t.for(0,parseInt(s.attributes.iterations??0)-1,()=>{this.#b(t,s)}):("from"in s.attributes||"to"in s.attributes)&&(r=t.for(parseInt(s.attributes.from??0),parseInt(s.attributes.to??0),()=>{this.#b(t,s)})):s.tagName==="forEach"?"object"in s.attributes&&(r=t.forEach(s.attributes.object??{},()=>{this.#b(t,s)})):(r=t.createElement(s.tagName,s.attributes,this.#b(t,s)),n.push(r))}return n}#y(){const t=this.#r,e=this.#o;Object.keys(this.#g).length>0&&(e.style=this.#g);const n=this.#r.newChild(t,e);n.tagName=this.#u,this.#r=n}#E(t,e=[]){const n=[];for(let s=0;s<t.length;s++)t[s]&&n.push(t[s]),e[s]!==void 0&&n.push(e[s]);return n}#m(){for(let t=0;t<this.#f.length;t++)if(typeof this.#f[t]=="string")for(let e=0;e<this.#f[t].length;e++)this.#e=this.#f[t][e],this.#l=this.#f[t][e-1],this.#i();else this.#e=this.#f[t],this.#l=void 0,this.#i()}#M(t,e){t&&(this.#o[t]=typeof e=="string"?e.trim():e)}#a(t){t===this.#w&&(this.#t="",this.#s="",this.#n=""),this.#i=t}#C(t,e){t&&(this.#g[t]=typeof e=="string"?e.trim():e)}#w(){v(this.#e)||(this.#e==="/"?(Q.includes(this.#u)&&this.#y(),this.#a(this.#x)):this.#e===">"?(this.#y(),this.#a(this.#O)):this.#e==="="?this.#a(this.#S):this.#t+=this.#e)}#S(){v(this.#e)||(this.#e==="'"||this.#e==='"'?(this.#n=this.#e,this.#a(this.#t==="style"?this.#F:this.#A)):(this.#n=" ",this.#s=this.#N(this.#s,this.#e),this.#a(this.#A)))}#A(){this.#e===">"&&this.#l!=="/"?(this.#n&&this.#t&&this.#s&&this.#M(this.#t,this.#s),this.#t="",this.#s="",this.#n="",this.#a(this.#O),this.#y()):this.#e===this.#n||this.#n===" "&&v(this.#e)?(this.#M(this.#t,this.#s),this.#a(this.#w)):this.#e instanceof Object?this.#s=this.#e:this.#s+=this.#e}#O(){v(this.#e)||(this.#e==="<"?(this.#u="",this.#o={},this.#a(this.#L)):(this.#l===" "?this.#p=this.#l+this.#e:this.#p=this.#e,this.#u="",this.#o={},this.#y(),this.#a(this.#_)))}#F(){v(this.#e)||(this.#e===">"?this.#a(this.#O):this.#e===this.#n||this.#n===" "&&v(this.#e)?this.#a(this.#w):this.#e===":"?this.#a(this.#D):this.#h+=this.#e)}#D(){this.#e===">"?this.#a(this.#O):this.#e===";"?(this.#C(this.#h,this.#c),this.#h="",this.#c="",this.#a(this.#F)):this.#e===this.#n?(this.#C(this.#h,this.#c),this.#h="",this.#c="",this.#a(this.#w)):this.#c=this.#N(this.#c,this.#e)}#L(){if(v(this.#e))this.#u!==""&&this.#a(this.#w);else if(this.#e==="/"&&Q.includes(this.#u))this.#r.tagName||(this.#r=this.#r.parent),this.#y(),this.#a(this.#x);else if(this.#e===">"){if(!this.#u)throw new Error("Expected tag name, found >");this.#r.tagName||(this.#r=this.#r.parent),this.#y(),this.#a(this.#O)}else this.#l==="<"&&this.#e==="/"?(this.#u,this.#d="",this.#a(this.#x)):this.#u+=this.#e}#x(){if(!v(this.#e))if(this.#e===">"){if(this.#r.tagName&&this.#r.tagName!=="-"&&!Q.includes(this.#r.tagName)&&this.#r.tagName!==this.#d)throw new Error(`Expected ${this.#r.tagName} tag to be closed, but ${this.#d} found`);this.#u="",this.#d="",this.#r.tagName?this.#r=this.#r.parent:this.#r=this.#r.parent.parent,this.#a(this.#O)}else this.#d+=this.#e}#_(){this.#e==="<"?(this.#o={},this.#r.attributes.textContent=this.#p,this.#a(this.#L)):(this.#p=this.#N(this.#p,this.#e),this.#r.tagName||(this.#r.attributes.textContent=this.#p))}}class Yt{#t=[];get translations(){return this.#t}translate(t){if(typeof t=="string"){const e=this.#s(t,this.#t);if(typeof e=="string")return e;const n=Mt(),s=this.#s(t,n.paintorTranslations);if(typeof s=="string")return s}return t}translateArray(t){return this.translate(dt.apply(null,this.#n(t)))}useTranslations(...t){for(const e of t)if(e instanceof Array)for(const n of e)this.#t.includes(n)||(this.#t=[...this.#t,n]);else e instanceof Object&&(this.#t.includes(e)||(this.#t=[...this.#t,e]))}#n(t){if(this.#t.length===0)return t;const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=this.translate(t[n]);return e}#s(t,e){if(e){for(const n of e)if(t in n)return n[t]}return!1}}class G{#t=[new H];#n;#s;#o=!0;#e=null;#l=this;#f=[];#i;#h;constructor(t,e,n,s){this.#h=t,this.#s=t.document,this.#o=this.#s.baseURI==="",this.#n=e,this.#f=n,this.#i=s}static lastTemplateTreeToRender=null;createElement(t,...e){const n=t?this.#s.createElement(t):this.#s.createTextNode("");let s=[],r=0;for(const o of e)if(r+=1,typeof o=="string"){const a=this.#s.createTextNode(this.#i.translate(o));P(a,s)}else if(typeof o=="number"){const a=this.#s.createTextNode(o.toString());P(a,s)}else if(o instanceof this.#h.Node)P(o,s);else if(o instanceof Array){if(o.length===0)continue;let a=!1;for(const l of o)if(l instanceof this.#h.Node){a=!0;break}if(a)z(o,s);else{const l=this.#s.createTextNode(this.#i.translateArray(o));P(l,s)}}else if(o instanceof Error)n.textContent=this.#i.translate(o.message);else if(o instanceof A){const a=this.#o?o.useTranslations(this.#i.translations).getElementsSr():o.useTranslations(this.#i.translations).getElements(),{length:l}=a;if(l>0)for(const h of a[l-1]??[])P(h,s)}else if(o instanceof Function)if(o[_]){const{thisLevel:a,upperLevel:l}=this.#d();o(this.#l);const h=this.#t[a]?.getElements()??[];z(h,s),this.#c({thisLevel:a,upperLevel:l})}else if(this.#o)n.innerHTML=`(${o.toString()})()`;else if(n instanceof HTMLScriptElement){const a=this.#s.createTextNode(`(${o.toString()})()`);n.appendChild(a)}else if("value"in n&&!(n instanceof HTMLLIElement))this.#m(n,{value:o});else{const a=()=>{this.#C("nest",o,!0,(l,h,f,u)=>{if(l instanceof Function||l instanceof A){if(l instanceof A){const m=this.#o?l.useTranslations(this.#i.translations).getElementsSr():l.useTranslations(this.#i.translations).getElements();h?(P(f,s),z(m[0]??[],s),P(u,s)):this.#t[0]?.addElements(m[0]??[])}else if(_ in l)if(l(this.#l),h){const m=this.#t.length-1,g=this.#t[m].getElements();P(f,s),z(g,s),P(u,s)}else s.length=0}else h&&f&&(this.#A(f),this.#m(n,{textContent:l}))})};this.#m(n,{textNode:o},a)}else o instanceof Object&&!(o instanceof Function)&&r===1&&this.#m(n,o);const c=this.#t.length-1;if(s.length>0){const o=this.#t[c].getElements(),a=o.indexOf(s[0]);a>-1&&s.length<o.length-a&&(s=o.slice(a))}return lt(n,s),this.#t[c].removeTheseElements(s),this.#t[c].addElement(n),n}for(t,e,n){const s=()=>{const r=Pt(t,e,n);r instanceof Error&&console.error(r)};return this.#a(null,s)}forEach(t,e,n){return k(t)?this.#r(t,e,n):this.#T(t,e,n)}forState(t,e,n){const s=L(t);if(s){const r=s.parent;if(!k(r))throw new Error("The state must be a part of a state");const c=s.path.lastIndexOf("."),o=s.path.substring(c+1);return this.#r(r,(a,l)=>{if(l!==o)return;if(e[_])return e(this.#l);const h=e(a);return h instanceof Function?h(this.#l):h},n,o)}return this.#r(t,e,n)}getCreatedElements(){if(!this.#t[0])throw new Error("Missing data");return this.#t[0].getElements()}getHtmlCode(t){let e="";if(this.#o){const n=this.#n;n&&(e=n.paintChildren(t))}return e}html(t,...e){const n=e.length===0&&this.#i.translations.length===0?this.#N(t instanceof Array?t[0]??"":t):this.#b(t instanceof Array?t:[t],...e);for(const s of n)s.tagName===""&&(s.textContent=this.#i.translate(s.textContent));return n}if(t,e,n){const s=r=>{!!r?e&&this.#S(e):n&&this.#S(n)};return t instanceof Function?this.#C("if",t,!0,s):this.#a(t,s)}async render(){G.lastTemplateTreeToRender=this.#l,this.#t=[new H];for(const t of this.#f)if(t instanceof Function){let e=t(this.#l);if(e instanceof Promise&&(e=await e),e&&typeof e=="string")this.html(e);else if(e instanceof A)this.#u(e,0);else if(e instanceof Function)e(this.#l);else if(e instanceof Array){let n=!0,s=!0;for(const r of e){if(!(r instanceof A)){n=!1;break}if(!(r instanceof Function)){s=!1;break}}if(n)for(const r of e){if(!(r instanceof A))break;this.#u(r,0)}else if(s)for(const r of e){if(!(r instanceof Function))break;r(this.#l)}}}else t instanceof A&&this.#u(t,0);this.#g()}#c({thisLevel:t,upperLevel:e}){const n=this.#t[t],s=this.#t[e];if(!(n instanceof H)||!(s instanceof H))throw new Error("Missing data");const r=n.getElements()??[];return s.importElements(n),n.replaceElements([]),delete this.#t[t],this.#t.pop(),r}#g(){const t=this.#n;t&&lt(t,this.getCreatedElements())}#u(t,e=-1){const n=this.#o?t.useTranslations(this.#i.translations).getElementsSr():t.useTranslations(this.#i.translations).getElements(),s=e<0?this.#t.length-1:e;for(const r of n)this.#t[s].addElements(r)}#d(){this.#t.push(new H);const t=this.#t.length-1,e=t-1;return{thisLevel:t,upperLevel:e}}#p(t){return this.#i.translate(t)}#T(t,e,n){const s=r=>{ct(this.#l,1,r,e,n,void 0,this.#p)};return t instanceof Function?this.#C("forEach",t,!0,s):this.#a(t,s)}#r(t,e,n,s){let r=null;if(!k(t))return new Error("The input object must be a state");const c=(o,a,l)=>{const h=[];let f=a.getElements().length;const u=(m,g=null)=>{g&&this.#S(g);const M=a.getElements(),x=f===0?M:M.slice(f);if(m===void 0){if(r)return;r=x}else if(r){for(const C of r)this.#A(C),C.remove();r=null}h.push({key:m,elements:x}),f=M.length};return ct(this.#l,2,o,e,n,l,this.#p,u),h};return this.#w("reactive",t,c,n instanceof Function,s)}#N(t){let e=[];if(this.#o){const s=this.#s.createElement("");s.innerHTML=t??"",e=[s]}else{this.#e||(this.#e=this.#s.createElement("template"));const s=this.#e;s.innerHTML=t.trim()??"",e=Array.from(s.content.childNodes),s.innerHTML=""}const n=this.#t.length-1;return this.#t[n].addElements(e),e}#b(t,...e){return new Ut(t,e).generate(this)}#y(t,e){if(!this.#n?.contains(t))return!1;let n=t;for(const s of e)It(s,n),n=s;return!0}#E(t,e,n){let s=t.renderedElementsMap.length;for(;s>0;)if(s-=1,!!t.renderedElementsMap[s]&&(e==="*"||t.renderedElementsMap[s]?.key===e)){for(const r of t.renderedElementsMap[s]?.elements??[])r.renderedElementsMap&&this.#E(r,"*",!0),this.#A(r),r.remove();n?(t.renderedElementsMap[s].elements.length=0,delete t.renderedElementsMap[s]):t.renderedElementsMap=kt(t.renderedElementsMap,s)}}#m(t,e,n){for(const s in e){let r=e[s];if(this.#o){if(mt(s)&&r instanceof Function){q(t,s,r);continue}}else if(r instanceof Function&&Dt(t,s,r))continue;if(r instanceof Function){const c=r;W(t,s,"",c,null);let o=c(t);if(o instanceof Function&&Object.hasOwn(o,_)||o instanceof A){$(),n&&n();continue}else if(o instanceof Function)o=o();else if(s==="textNode"){$();const a=this.#s.createTextNode(o);t.appendChild(a),At(t,a,c,{propertyName:"textContent"});continue}$(),o instanceof Array?o=this.#i.translateArray(o):typeof o=="string"&&(o=this.#i.translate(o)),s&&q(t,s,o)}else t instanceof this.#h.HTMLElement&&s==="style"&&r instanceof Object?this.#M(t,r):t instanceof this.#h.HTMLElement&&s==="data"?r instanceof Object&&vt(t,r):s==="textContent"?r instanceof Array?t[s]=this.#i.translateArray(r):t[s]=this.#i.translate(r):((s==="innerText"||s==="value"&&t.tagName==="INPUT"&&(t.getAttribute("type")??"").toLowerCase()==="button")&&(r=this.#i.translate(r)),q(t,s,r))}}#M(t,e){for(const n in e){const s=e[n];let r="";if(s instanceof Function){const c="style",o=s;W(t,c,n,o,null),r=o(t),$()}else r=s;typeof n=="string"&&(t.style[n]=pt(n,r))}}#a(t,e){const{thisLevel:n,upperLevel:s}=this.#d();return e(t),this.#c({thisLevel:n,upperLevel:s})}#C(t,e,n,s){const{thisLevel:r,upperLevel:c}=this.#d();if(e instanceof Function){const a=this.#s.createComment(`${t}-begin`),l=this.#s.createComment(`${t}-end`);n&&this.#t[r].addElement(a);const h=g=>{if(this.#o)return;const M=this.#t.length-1;this.#t[M].removeAllElements(),s(g,!1,null,null),this.#y(a,this.#t[M].getElements())||console.error("Element ",a," does not exist anymore")},f=a,u=`--${t}`;W(f,u,"",e,h);const m=e();$(),s(m,!0,a,l),n&&this.#t[r].addElement(l)}else s(e,!1,null,null);return this.#c({thisLevel:r,upperLevel:c})}#w(t,e,n,s,r){const{thisLevel:c,upperLevel:o}=this.#d(),a=this.#s.createComment(`${t}-begin`),l=this.#s.createComment(`${t}-end`),h=this.#t[c];if(!h)throw new Error(`There are no collected elements at level ${c}`);h.addElement(a);const f=(x,C,D,R)=>{if(r!==void 0&&r!==R)return;let Y=!1;a.parentElement&&(this.#t.push(new H),Y=!0);const b=this.#t.length-1,d=n(x,this.#t[b],R),p=C instanceof Array;for(const N of d){R!==void 0&&(p?l.renderedElementsMap[R]=N:l.renderedElementsMap.push(N));for(const y of N.elements)b===0&&this.#t.length>b&&this.#t[b].moveElementAfterAnother(y,D),D.after(y),D=y}Y&&this.#t.pop()},u=(x,C,D,R)=>{const Y=L(C);if(!Y)throw new Error("Missing meta data");const b=Y.target;if(b instanceof Object&&!this.#o){if(x===E.CREATE){let d=null;const p=b instanceof Map||b instanceof Set?b.keys():Object.keys(b);for(const y of p){if(y===D)break;d=y}let N=a;if(d!==null){for(const y of l.renderedElementsMap)if(y&&y.key===d){const{elements:F}=y;N=F.length>0?F[F.length-1]:N;break}}f(b,b,N,D)}else if(x===E.DELETE){const d=b instanceof Array;this.#E(l,D,d)}else if(x===E.UPDATE)u(E.DELETE,C,D,void 0),u(E.CREATE,C,D,void 0);else if(x===E.ARRAY_SPLICE){if(b instanceof Array){let[d,p,...N]=R;if(d=parseInt(d),p=parseInt(p),p===1/0?p=b.length-d:p<0&&(p=0),p>0)for(let T=d,B=d+p;T<B;T++)u(E.DELETE,C,T.toString(),void 0),delete l.renderedElementsMap[T];const y=l.renderedElementsMap.length,F=b.length,J=F-y;if(J>0){l.renderedElementsMap.length=F;for(let T=F-1;T>=d+N.length;T--){const B=T-J;if(B<0)break;l.renderedElementsMap[T]=l.renderedElementsMap[B],l.renderedElementsMap[T].key=T.toString(),delete l.renderedElementsMap[B]}}else if(J<0){l.renderedElementsMap.splice(d,p);for(let T=F-1;T>=d+N.length;T--)l.renderedElementsMap[T].key=T.toString()}if(N.length>0)for(let T=d;T<d+N.length;T++)u(E.CREATE,C,T.toString(),void 0);l.renderedElementsMap.length=b.length}}else if(x===E.ARRAY_SWAP){let[d,p]=R;d=parseInt(d),p=parseInt(p);const N=l.renderedElementsMap[p].elements;l.renderedElementsMap[p].elements=l.renderedElementsMap[d].elements,l.renderedElementsMap[d].elements=N;for(let y=1;y<l.renderedElementsMap.length;y++)Ht(...l.renderedElementsMap[y-1].elements,...l.renderedElementsMap[y].elements)}else if(x===E.ARRAY_COPY_WITHIN){let[d,p,N]=R;p=parseInt(p),N=parseInt(N);for(let y=p,F=d;y<N;y++,F++)u(E.DELETE,C,F.toString(),void 0),u(E.CREATE,C,F.toString(),void 0)}else if(x===E.ARRAY_SORT){if(b instanceof Array)for(let d=0,p=b.length;d<p;d++)u(E.DELETE,C,d.toString(),void 0),u(E.CREATE,C,d.toString(),void 0)}else if(x===E.ARRAY_LENGTH){let d=R?.[0]??0;if(d=parseInt(d),d<l.renderedElementsMap.length){let p=l.renderedElementsMap.length;for(;p>0&&(p-=1,!(p<d));)l.renderedElementsMap[p]!==void 0&&u(E.DELETE,C,p.toString(),void 0)}b instanceof Array&&(l.renderedElementsMap.length=b.length)}s&&(!(b instanceof Array)||D==="")&&jt(b)===0&&f(C,b,a,void 0)}},m=`-s-${t}`;W(l,m,"",()=>e,u);const M=n(e,h);return M.length===1&&M[0]?.key===void 0&&M.splice(0,1),l.renderedElementsMap=M,$(),h.addElement(l),this.#c({thisLevel:c,upperLevel:o})}#S(t){if(t instanceof A){this.#u(t);return}if(t instanceof Function&&t[_]){t(this.#l);return}if(t instanceof Function){const e=t(this.#l);(e instanceof A||e instanceof Function)&&this.#S(e)}}#A(t){wt(t)&&(Object.assign(t,{"--deleted":!0}),Z(t));let e=t.childNodes.length;for(;e>0;)e-=1,this.#A(t.childNodes[e])}}function Bt(...i){const t=this;return function(...n){return t.call(this,...i,...n)}}const{prototype:nt}=G;Object.assign(nt.createElement,{bindArgs:Bt});yt.forEach(i=>{nt[i]=nt.createElement.bindArgs(i)});const Gt=Object.freeze(["async","autofocus","autoplay","checked","contenteditable","controls","default","defer","disabled","formNoValidate","frameborder","hidden","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","readonly","required","reversed","scoped","selected","typemustmatch"]),Wt=Object.freeze(["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr","command","keygen","menuitem"]),w=Object.freeze({ELEMENT_NODE:1,ATTRIBUTE_NODE:2,TEXT_NODE:3,CDATA_SECTION_NODE:4,PROCESSING_INSTRUCTION_NODE:7,COMMENT_NODE:8,DOCUMENT_NODE:9,DOCUMENT_TYPE_NODE:10,DOCUMENT_FRAGMENT_NODE:11});class K extends Error{constructor(t,e){super(t),this.name=e??"DOMException"}}class I{nextSibling=null;previousSibling=null;textContent="";#t=[];#n="";#s=1;#o=null;constructor(t,e){this.#s=t,this.#n=e}get baseURI(){return""}get childNodes(){return this.#t}get firstChild(){return this.#t[0]??null}get nodeName(){return this.#n}get nodeType(){return this.#s}get parentNode(){return this.#o}set parentNode(t){this.#o=t}appendChild(t){if(this.nodeType!==w.DOCUMENT_NODE&&this.nodeType!==w.DOCUMENT_FRAGMENT_NODE&&this.nodeType!==w.ELEMENT_NODE)throw new K("This node type does not support this method.");if(this.nodeType===w.DOCUMENT_NODE)throw new K("Failed to execute 'appendChild' on 'Node': Only one element on document allowed.");if(!(t instanceof I)){const n="Failed to execute 'appendChild' on 'Node': parameter 1 is not of type 'Node'.";throw new TypeError(n)}if(this.#t.includes(t))return;if(t===this)throw new K("Failed to execute 'appendChild' on 'Node': The new child element contains the parent.");this.#t.push(t),t.parentNode=this;const e=this.#t.length-2;e>=0&&(this.#t[e].nextSibling=t,t.previousSibling=this.#t[e]??null)}contains(){return!1}insertBefore(t,e){const n=[];for(const s of this.#t)s===e&&n.push(t),n.push(s);return this.#t=n,t}removeChild(t){if(!t)throw new Error("Failed to execute 'removeChild' on 'HTMLElement': parameter 1 is not of type 'HTMLElement'.");if(!this.#t.includes(t))throw new Error("Failed to execute 'removeChild' on 'HTMLElement': The node to be removed is not a child of this node.");return this.#t=this.#t.filter(e=>e!==t),t}paintChildren({indent:t=""}){let e="",n=0;for(const s of this.childNodes){n+=1;const r=n>1;e+=gt(s,t,"",r)}return e}}class rt extends I{constructor(){super(w.COMMENT_NODE,"#comment")}}class ot extends I{constructor(){super(w.TEXT_NODE,"#text")}}function Et(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,n=>{let s=n;return n in e&&(s=e[n]??""),s}),t}function zt(i){let t="";for(const e of i){const{name:n}=e;let{value:s}=e;Gt.includes(n)?s!==!1&&s!==0&&s!==void 0&&s!==null&&(t+=` ${n}`):(s instanceof Array?s=s.join(","):s===!0?s="true":s===!1?s="false":s===void 0?s="undefined":s===null?s="null":s instanceof Function?s=`return(${s.toString()}).call(this,window.event)`:s=s.toString(),s=s.replace(/"/ug,'\\"'),s=Et(s),t+=` ${n}="${s}"`)}return t}function Vt(i){let t="";return t=i.replace(/([A-Z])/ug,(e,n)=>`-${n.toLowerCase()}`),t}function qt(i){let t="";for(const e in i){const n=i[e];t+=`${Vt(e)}:${n};`}return t.trim()}function gt(i,t,e,n=!1){let s="",r="",c="";if(t&&(r=e,c=`
`),i instanceof rt)s+=`${c}${r}<!--${i.textContent}-->`;else if(i instanceof ot)s+=`${c}${r}${i.textContent}`;else if(i instanceof U){const o=Wt.includes(i.tagName),a=zt(i.attributes);let l="";Object.keys(i.style).length>0&&(l=` style="${qt(i.style)}"`),n&&(s+=c),s+=r,i.tagName&&(s+=`<${i.tagName.toLowerCase()}${a}${l}`,s+=o?"":">"),s+=i.textContent;let h="";for(const f of i.childNodes)h+=gt(f,t,e+t,!0);h&&(s+=h+c+r),i.tagName!==""&&(s+=o?"/>":`</${i.tagName.toLowerCase()}>`)}return s}class X extends I{#t=[];#n="";constructor(t,e){super(t,e.toUpperCase()),this.#n=e.toUpperCase()}get attributes(){return this.#t}get children(){return this.childNodes.filter(t=>t instanceof X)}get className(){let t="";for(const e of this.#t)if(e.name==="class"){t=e.value;break}return t}set className(t){this.setAttribute("class",t)}get innerHTML(){return this.textContent}set innerHTML(t){this.textContent=t}get tagName(){return this.#n}append(t){t instanceof I?this.appendChild(t):this.textContent=Et(t.toString())}getAttribute(t){let e="";if(e=t.trim().toLowerCase(),!e)return null;const n=this.#t.findIndex(s=>s.name===e);return n===-1?null:this.#t[n]?.value??null}remove(){this.parentNode?.removeChild(this)}setAttribute(t,e){let n="";if(n=t.trim().toLowerCase(),!n)return;const s=e,r=this.#t.findIndex(c=>c.name===n);r===-1?this.#t.push({name:n,value:s}):this.#t[r]={name:n,value:s}}}function Kt(i){let t=i;const e={"&":"&amp;","<":"&lt;",">":"&gt;"};return t=t.replace(/[&<>"]/ug,n=>{let s=n;return n in e&&(s=e[n]??""),s}),t}function Xt(i){const t=i.split("-");if(t.length===1)return t[0];const e=t.slice(1).map(n=>(n[0]??"").toUpperCase()+n.slice(1)).join("");return t[0]+e}function Jt(i){const t={};return i.split(";").forEach(e=>{const[n,s]=e.split(":");if(!n)return;const r=Xt(n.trim());t[r]=(s??"").trim()}),t}let U=class extends X{#t={};constructor(t){super(w.ELEMENT_NODE,t)}get innerText(){return this.textContent}set innerText(t){this.textContent=Kt(t.toString())}get style(){return this.#t}set style(t){if(typeof t=="string"){const e=Jt(t);for(const n in e)this.#t[n]=(e[n]??"").toString()}}},bt=class extends I{constructor(){super(w.DOCUMENT_FRAGMENT_NODE,"#document-fragment")}};class Qt extends I{ELEMENT_NODE=w.ELEMENT_NODE;ATTRIBUTE_NODE=w.ATTRIBUTE_NODE;TEXT_NODE=w.TEXT_NODE;CDATA_SECTION_NODE=w.CDATA_SECTION_NODE;PROCESSING_INSTRUCTION_NODE=w.PROCESSING_INSTRUCTION_NODE;COMMENT_NODE=w.COMMENT_NODE;DOCUMENT_NODE=w.DOCUMENT_NODE;DOCUMENT_TYPE_NODE=w.DOCUMENT_TYPE_NODE;DOCUMENT_FRAGMENT_NODE=w.DOCUMENT_FRAGMENT_NODE;#t;#n=[];constructor(){super(w.DOCUMENT_NODE,"#document");const t=new U("html"),e=new U("head"),n=new U("body");t.appendChild(e),t.appendChild(n),this.#n.push(t),this.#t=n}get body(){return this.#t}get children(){return this.#n}get parentElement(){return null}createDocumentFragment(){return new bt}createComment(t=""){const e=new rt;return e.textContent=t,e}createElement(t){return new U(t)}createTextNode(t){const e=new ot;return e.textContent=t,e}}class Zt{Comment=rt;DocumentFragment=bt;Element=X;HTMLElement=U;Node=I;Text=ot;DOMException=K;Error=Error;TypeError=TypeError;document;constructor(){this.document=new Qt}}const te=j(),ee=new Zt;class A{state=null;#t=[];#n=[];#s="";#o=!1;#e=!1;#l="";#f="";#i=new Map;#h=new Map;#c=[];#g=new Yt;#u=!1;clear(){for(const t of this.#n)for(const e of t)Z(e),e.remove();this.#n.length=0,this.#s="",this.#i.clear(),this.#h.clear()}getElements(){return this.#o?this.#T(null):(this.#E(null,window,!0),this.#n)}getElementsSr(){if(this.#o)return this.#T("");const t=this.#r();return this.#E("",t,!0),this.#n}html(t){if(this.#o)return this.staticHtml(t);const e=this.#r();return this.#E("",e,!0,t),this.#s}paint(t){if(!te)throw new Error("You can only use this function in browser environment");if(!t)throw new Error("No container selected.");if(typeof t!="string"&&!(t instanceof HTMLElement)&&!(t instanceof NodeList)&&!(t instanceof Array)&&!(t instanceof HTMLCollection))throw new Error(`Wrong type for the container element. Expected <string> or <Node>, got <${typeof t}>`);this.#E(t,window,!0)}static(t=!0){return this.#o=t,this}staticHtml(t){const e=this.#g.translations[0]??null;if(!this.#h.has(e)){const n=this.#r();this.#E("",n,!0,t),this.#h.set(e,this.#s)}return this.#h.get(e)??""}template(t){}useTemplates(...t){if(t instanceof Array)for(const e of t)if(e instanceof Array)for(const n of e)this.#c.push(n);else this.#c.push(e);return this}useTranslations(...t){return this.#g.useTranslations(...t),this}#d(){if(this.#t)for(const t of this.#t)for(;t?.firstChild;)t.removeChild(t.firstChild)}#p(t){let e=-1,n=-1;for(const s of this.#t)n+=1,t===s&&(e=n);if(e!==-1){delete this.#t[e];for(const s of this.#n[e]??[])Z(s),s.remove();delete this.#n[e],this.#s="";for(const[s,r]of this.#i)delete r[e];this.#h.clear()}}#T(t){const e=this.#g.translations[0]??null;if(!this.#i.has(e)){const n=this.#r();this.#E(t,n,!0),this.#i.set(e,this.#n)}return this.#i.get(e)??[]}#r(){return ee}#N(t,e,n){this.#u||(this.#u=!0,this.#n.length=0,this.#s="",this.#b(t,e),this.#y(n))}#b(t,e){const n=e.document.baseURI==="";if(typeof t=="string")if(this.#l=t,this.#e=!1,xt(t))this.#e=!0;else{Ft(t)||(this.#f=t);const s=n?[e.document.createElement("#container")]:e.document.querySelectorAll(t);if(this.#t=Array.from(s),!this.#t)throw new Error(`Could not find an element by the following query: ${t}`)}else if(t instanceof HTMLElement)this.#t=[t];else if(t instanceof NodeList||t instanceof HTMLCollection)this.#t=Array.from(t);else if(t instanceof Array){for(const s of t)if(!(s instanceof HTMLElement))throw new Error("All elements in the input array must be DOM elements");this.#t=t}return!0}#y(t){this.template instanceof Function&&(this.state=this.state?ut(this.state):this.state,this.#c.push(this.template.bind(this)));for(const e of t)if(!(e instanceof Function)&&!(e instanceof A))throw new Error("The template must be a function");return!0}#E(t,e,n=!0,s={}){this.#N(t,e,this.#c),n&&this.#d();const r=this.#c;if(!e)throw new Error("Missing window element");if(this.#e){if(customElements.get(this.#l)){const o=document.getElementsByTagName(this.#l);for(const a of o)this.#m(e,a.shadowRoot,r,s);return}const c=o=>class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){if(!this.shadowRoot)throw new Error("Missing shadow root");o.#m(e,this.shadowRoot,r,s)}disconnectedCallback(){o.clear()}};customElements.define(this.#l,c(this))}else if(this.#f&&new MutationObserver(o=>{for(const a of o){const{addedNodes:l,removedNodes:h}=a;for(const f of l)f instanceof HTMLElement&&f.matches(this.#f)&&this.#m(e,f,r,s);for(const f of h)this.#p(f)}}).observe(document.body,{attributes:!1,childList:!0,characterData:!1,subtree:!0}),this.#t.length===0)this.#m(e,null,r,s);else for(const c of this.#t)this.#m(e,c,r,s)}#m(t,e,n,s={}){const r=new G(t,e,n,this.#g);r.render(),this.#s=r.getHtmlCode(s),this.#n.push(r.getCreatedElements())}}const ne="modulepreload",se=function(i){return"/"+i},at={},ht=function(t,e,n){let s=Promise.resolve();if(e&&e.length>0){const r=document.getElementsByTagName("link");s=Promise.all(e.map(c=>{if(c=se(c),c in at)return;at[c]=!0;const o=c.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let f=r.length-1;f>=0;f--){const u=r[f];if(u.href===c&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${a}`))return;const h=document.createElement("link");if(h.rel=o?"stylesheet":ne,o||(h.as="script",h.crossOrigin=""),h.href=c,document.head.appendChild(h),o)return new Promise((f,u)=>{h.addEventListener("load",f),h.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${c}`)))})}))}return s.then(()=>t()).catch(r=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r})},ie=function(){let i="en";return j()&&(i=document.getElementById("html")?.getAttribute("lang")??i),i},re=async function(i,t){if(typeof i!="string")throw new Error("Translation path must be a string");let e=null;const n=i.match(/^(.*?)([^.\/\\]+)(.\w+)$/um);if(n===null)throw new TypeError(`Incorrect path: ${i}`);const s=n[1]+t+n[3];try{e=(await ht(()=>import(s),__vite__mapDeps([]))).default}catch{s!==i&&(e=(await ht(()=>import(i),__vite__mapDeps([]))).default)}if(!(e instanceof Object))throw new TypeError(`Translation at ${s} must export an object`);return e},oe=async function(...i){const t=ie(),e=[];for(const n of i)e.push(re(n,t));return Promise.all(e)};function le(...i){return new A().useTemplates(...i)}function ce(i){return i[_]=!0,i}function ae(i){return i instanceof A}function he(i){return i instanceof Function&&_ in i}const de={component:le,fetchTranslations:oe,isComponent:ae,isState:k,isTemplate:he,setState:St,state:ut,template:ce,Component:A};export{A as Component,le as component,de as default,oe as fetchTranslations,ae as isComponent,k as isState,he as isTemplate,de as paintor,St as setState,ut as state,ce as template};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
//# sourceMappingURL=bundle.js.map
